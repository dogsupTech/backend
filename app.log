2024-06-05 13:24:30,555 - WARNING -  * Debugger is active!
2024-06-05 13:24:30,561 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 13:37:02,910 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/app.py', reloading
2024-06-05 13:37:03,881 - WARNING -  * Debugger is active!
2024-06-05 13:37:03,889 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 13:38:07,589 - INFO - 127.0.0.1 - - [05/Jun/2024 13:38:07] "[31m[1mPOST /chat HTTP/1.1[0m" 400 -
2024-06-05 13:38:47,016 - INFO - 127.0.0.1 - - [05/Jun/2024 13:38:47] "[31m[1mPOST /chat HTTP/1.1[0m" 400 -
2024-06-05 13:38:53,112 - INFO - Created new dog: {'name': 'Buddy', 'birth_date': '2020-01-01', 'breed': 'Labrador', 'sex': 'Male'}
2024-06-05 13:38:53,981 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-05 13:38:53,994 - INFO - 127.0.0.1 - - [05/Jun/2024 13:38:53] "POST /chat HTTP/1.1" 200 -
2024-06-05 13:40:08,559 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 13:40:09,363 - WARNING -  * Debugger is active!
2024-06-05 13:40:09,370 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 13:40:33,056 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/app.py', reloading
2024-06-05 13:40:33,822 - WARNING -  * Debugger is active!
2024-06-05 13:40:33,829 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 13:40:37,118 - INFO - Received request: {'input': 'Hello, how are you?', 'dog': {'name': 'Buddy', 'birth_date': '2020-01-01', 'breed': 'Labrador', 'sex': 'Male'}}
2024-06-05 13:40:37,118 - INFO - Created new dog: {'name': 'Buddy', 'birth_date': '2020-01-01', 'breed': 'Labrador', 'sex': 'Male'}
2024-06-05 13:40:37,950 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-05 13:40:37,964 - INFO - 127.0.0.1 - - [05/Jun/2024 13:40:37] "POST /chat HTTP/1.1" 200 -
2024-06-05 13:42:32,381 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 19:27:58,994 - WARNING -  * Debugger is active!
2024-06-05 19:27:59,001 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 19:27:59,228 - INFO - Received request: {'input': 'Why does my dog always bark when someone is coming home?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 19:27:59,229 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 19:27:59,229 - INFO - System template: 
            You are an expert in dog behavior with a deep understanding of canine psychology, training techniques,
            and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise.

            The dog's details are as follows:
            - Name: {dog_name}
            - Birth Date: {dog_birth_date}
            - Age: {dog_age}
            - Breed: {dog_breed}
            - Sex: {dog_sex}

            Please make the answer personalized for {dog_name}. If the question is not about 
            dog behavior, mention that you are a dog behavior expert:
        
2024-06-05 19:27:59,230 - INFO - Formatted system message: [SystemMessage(content="\n            You are an expert in dog behavior with a deep understanding of canine psychology, training techniques,\n            and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise.\n\n            The dog's details are as follows:\n            - Name: Buddy\n            - Birth Date: 2017-06-19\n            - Age: 6\n            - Breed: Labrador\n            - Sex: Male\n\n            Please make the answer personalized for Buddy. If the question is not about \n            dog behavior, mention that you are a dog behavior expert:\n        ")]
2024-06-05 19:27:59,230 - INFO - Final prompt: input_variables=['messages'] input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]} messages=[SystemMessage(content="\n            You are an expert in dog behavior with a deep understanding of canine psychology, training techniques,\n            and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise.\n\n            The dog's details are as follows:\n            - Name: Buddy\n            - Birth Date: 2017-06-19\n            - Age: 6\n            - Breed: Labrador\n            - Sex: Male\n\n            Please make the answer personalized for Buddy. If the question is not about \n            dog behavior, mention that you are a dog behavior expert:\n        "), MessagesPlaceholder(variable_name='messages')]
2024-06-05 19:27:59,231 - INFO - Chain: first=ChatPromptTemplate(input_variables=['messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessage(content="\n            You are an expert in dog behavior with a deep understanding of canine psychology, training techniques,\n            and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise.\n\n            The dog's details are as follows:\n            - Name: Buddy\n            - Birth Date: 2017-06-19\n            - Age: 6\n            - Breed: Labrador\n            - Sex: Male\n\n            Please make the answer personalized for Buddy. If the question is not about \n            dog behavior, mention that you are a dog behavior expert:\n        "), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x10f650f40>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x10f661b80>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-05 19:28:00,353 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-05 19:28:00,401 - INFO - 127.0.0.1 - - [05/Jun/2024 19:28:00] "POST /chat HTTP/1.1" 200 -
2024-06-05 19:29:36,291 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 19:29:37,305 - WARNING -  * Debugger is active!
2024-06-05 19:29:37,314 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 19:29:38,161 - INFO - Received request: {'input': 'Why does my dog always bark when someone is coming home?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 19:29:38,162 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 19:29:38,162 - INFO - System template: You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex} Please make the answer personalized for {dog_name}. If the question is not about dog behavior, mention that you are a dog behavior expert.
2024-06-05 19:29:38,163 - INFO - Formatted system message: [SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male Please make the answer personalized for Buddy. If the question is not about dog behavior, mention that you are a dog behavior expert.")]
2024-06-05 19:29:38,163 - INFO - Final prompt: input_variables=['messages'] input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]} messages=[SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male Please make the answer personalized for Buddy. If the question is not about dog behavior, mention that you are a dog behavior expert."), MessagesPlaceholder(variable_name='messages')]
2024-06-05 19:29:38,164 - INFO - Chain: first=ChatPromptTemplate(input_variables=['messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male Please make the answer personalized for Buddy. If the question is not about dog behavior, mention that you are a dog behavior expert."), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x1073d8f40>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x1073e9b80>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-05 19:29:38,804 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-05 19:29:38,850 - INFO - 127.0.0.1 - - [05/Jun/2024 19:29:38] "POST /chat HTTP/1.1" 200 -
2024-06-05 19:34:20,499 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 19:38:01,278 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.1.11:8081
2024-06-05 19:38:01,279 - INFO - [33mPress CTRL+C to quit[0m
2024-06-05 19:38:01,279 - INFO -  * Restarting with stat
2024-06-05 19:38:01,998 - WARNING -  * Debugger is active!
2024-06-05 19:38:02,007 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 19:38:03,111 - INFO - Received request: {'input': 'Why does my dog always bark when someone is coming home?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 19:38:03,114 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 19:38:03,114 - INFO - System template: You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert.
2024-06-05 19:38:03,115 - INFO - Formatted system message: [SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert.")]
2024-06-05 19:38:03,117 - INFO - Final prompt: input_variables=['messages'] input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]} messages=[SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert."), MessagesPlaceholder(variable_name='messages')]
2024-06-05 19:38:03,119 - INFO - Chain: first=ChatPromptTemplate(input_variables=['messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert."), MessagesPlaceholder(variable_name='messages')]) middle=[ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x117c202b0>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x117c29e50>, openai_api_key=SecretStr('**********'), openai_proxy='')] last=CustomOutputParser()
2024-06-05 19:38:04,066 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-05 19:38:06,406 - INFO - Response chunk: {'advice': 'Buddy likely barks when someone is coming home out of excitement and anticipation. This behavior is common in dogs and is their way of expressing joy and eagerness to greet their loved ones. To manage this behavior, you can work on training Buddy to greet visitors calmly and quietly by teaching him alternative behaviors like sitting or staying when someone arrives.', 'references': ['https://www.akc.org/expert-advice/training/why-does-my-dog-bark-when-someone-comes-to-the-door/', 'https://www.aspca.org/pet-care/dog-care/common-dog-behavior-issues/barking']}
2024-06-05 19:38:06,419 - INFO - 127.0.0.1 - - [05/Jun/2024 19:38:06] "POST /chat HTTP/1.1" 200 -
2024-06-05 19:40:50,025 - INFO - Received request: {'input': 'Why does my dog always bark when someone is coming home?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 19:40:50,025 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 19:40:50,025 - INFO - System template: You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert.
2024-06-05 19:40:50,026 - INFO - Formatted system message: [SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert.")]
2024-06-05 19:40:50,026 - INFO - Final prompt: input_variables=['messages'] input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]} messages=[SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert."), MessagesPlaceholder(variable_name='messages')]
2024-06-05 19:40:50,028 - INFO - Chain: first=ChatPromptTemplate(input_variables=['messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert."), MessagesPlaceholder(variable_name='messages')]) middle=[ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x117c202b0>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x117c29e50>, openai_api_key=SecretStr('**********'), openai_proxy='')] last=CustomOutputParser()
2024-06-05 19:40:51,171 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-05 19:40:53,257 - INFO - Response chunk: {'advice': "Buddy may be barking when someone is coming home due to excitement or as a way to communicate and alert you of the approaching presence. To address this behavior, you can work on training him to remain calm and quiet when someone arrives. Start by teaching him a 'quiet' command and rewarding him for staying quiet when someone enters. Additionally, providing mental and physical stimulation throughout the day can help reduce his overall excitement levels.", 'references': "Overall excitement and communication are common reasons for dogs to bark when someone is coming home. Training 'quiet' command and providing mental/physical stimulation can help address this behavior. For further insight, you can explore resources on dog behavior and training techniques."}
2024-06-05 19:40:53,262 - INFO - 127.0.0.1 - - [05/Jun/2024 19:40:53] "POST /chat HTTP/1.1" 200 -
2024-06-05 19:41:50,113 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 19:41:50,275 - INFO -  * Restarting with stat
2024-06-05 19:41:51,263 - WARNING -  * Debugger is active!
2024-06-05 19:41:51,270 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 19:42:31,581 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 19:42:31,709 - INFO -  * Restarting with stat
2024-06-05 19:42:59,419 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.1.11:8081
2024-06-05 19:42:59,419 - INFO - [33mPress CTRL+C to quit[0m
2024-06-05 19:42:59,420 - INFO -  * Restarting with stat
2024-06-05 19:43:00,127 - WARNING -  * Debugger is active!
2024-06-05 19:43:00,136 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 19:43:01,089 - INFO - Received request: {'input': 'Why does my dog always bark when someone is coming home?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 19:43:01,091 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 19:43:01,091 - INFO - System template: You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert.
2024-06-05 19:43:01,099 - INFO - 127.0.0.1 - - [05/Jun/2024 19:43:01] "POST /chat HTTP/1.1" 200 -
2024-06-05 19:43:03,026 - INFO - Received request: {'input': 'Why does my dog always bark when someone is coming home?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 19:43:03,026 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 19:43:03,026 - INFO - System template: You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert.
2024-06-05 19:43:03,029 - INFO - 127.0.0.1 - - [05/Jun/2024 19:43:03] "POST /chat HTTP/1.1" 200 -
2024-06-05 19:43:13,706 - INFO - Received request: {'input': 'Why does my dog always bark when someone is coming home?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 19:43:13,706 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 19:43:13,706 - INFO - System template: You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert.
2024-06-05 19:43:13,708 - INFO - 127.0.0.1 - - [05/Jun/2024 19:43:13] "POST /chat HTTP/1.1" 200 -
2024-06-05 19:44:12,143 - INFO - Received request: {'input': 'Why does my dog always bark when someone is coming home?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 19:44:12,144 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 19:44:12,144 - INFO - System template: You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert.
2024-06-05 19:44:12,146 - INFO - 127.0.0.1 - - [05/Jun/2024 19:44:12] "POST /chat HTTP/1.1" 200 -
2024-06-05 19:44:28,551 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 19:44:28,684 - INFO -  * Restarting with stat
2024-06-05 19:44:29,390 - WARNING -  * Debugger is active!
2024-06-05 19:44:29,398 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 19:44:30,559 - INFO - Received request: {'input': 'Why does my dog always bark when someone is coming home?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 19:44:30,560 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 19:44:30,560 - INFO - System template: You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert.
2024-06-05 19:44:30,561 - INFO - Formatted system message: [SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert.")]
2024-06-05 19:44:30,571 - INFO - 127.0.0.1 - - [05/Jun/2024 19:44:30] "POST /chat HTTP/1.1" 200 -
2024-06-05 19:45:13,424 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 19:45:13,564 - INFO -  * Restarting with stat
2024-06-05 19:45:14,358 - WARNING -  * Debugger is active!
2024-06-05 19:45:14,365 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 19:45:14,378 - INFO - Received request: {'input': 'Why does my dog always bark when someone is coming home?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 19:45:14,379 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 19:45:14,379 - INFO - System template: You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert.
2024-06-05 19:45:14,380 - INFO - Formatted system message: [SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert.")]
2024-06-05 19:45:14,388 - INFO - 127.0.0.1 - - [05/Jun/2024 19:45:14] "POST /chat HTTP/1.1" 200 -
2024-06-05 19:45:29,721 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 19:45:29,850 - INFO -  * Restarting with stat
2024-06-05 19:45:30,589 - WARNING -  * Debugger is active!
2024-06-05 19:45:30,596 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 19:45:30,609 - INFO - Received request: {'input': 'Why does my dog always bark when someone is coming home?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 19:45:30,610 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 19:45:30,611 - INFO - System template: You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert.
2024-06-05 19:45:30,611 - INFO - Formatted system message: [SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert.")]
2024-06-05 19:45:30,612 - INFO - Final prompt: input_variables=[] messages=[SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert."), HumanMessagePromptTemplate(prompt=PromptTemplate(input_variables=[], template='Why does my dog always bark when someone is coming home?'))]
2024-06-05 19:45:30,613 - INFO - Chain: first=ChatPromptTemplate(input_variables=[], messages=[SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert."), HumanMessagePromptTemplate(prompt=PromptTemplate(input_variables=[], template='Why does my dog always bark when someone is coming home?'))]) middle=[ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x10a861370>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x10a869ee0>, openai_api_key=SecretStr('**********'), openai_proxy='')] last=CustomOutputParser()
2024-06-05 19:45:31,557 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-05 19:45:33,516 - INFO - Response chunk: {'advice': "Buddy barks when someone is coming home as a way to communicate his excitement and anticipation. It's a natural behavior for dogs to vocalize when they are happy or to alert their family of approaching visitors. To manage this behavior, you can work on training exercises to teach Buddy an alternative behavior like sitting calmly or fetching a toy when someone arrives.", 'references': ['https://www.akc.org/expert-advice/training/why-does-my-dog-bark-when-i-come-home/', 'https://www.aspca.org/pet-care/dog-care/common-dog-behavior-issues/barking']}
2024-06-05 19:45:33,516 - ERROR - Invalid chunk received: {'advice': "Buddy barks when someone is coming home as a way to communicate his excitement and anticipation. It's a natural behavior for dogs to vocalize when they are happy or to alert their family of approaching visitors. To manage this behavior, you can work on training exercises to teach Buddy an alternative behavior like sitting calmly or fetching a toy when someone arrives.", 'references': ['https://www.akc.org/expert-advice/training/why-does-my-dog-bark-when-i-come-home/', 'https://www.aspca.org/pet-care/dog-care/common-dog-behavior-issues/barking']}
2024-06-05 19:45:33,519 - INFO - 127.0.0.1 - - [05/Jun/2024 19:45:33] "POST /chat HTTP/1.1" 200 -
2024-06-05 19:45:51,884 - INFO - Received request: {'input': 'Why does my dog always bark when someone is coming home?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 19:45:51,884 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 19:45:51,885 - INFO - System template: You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert.
2024-06-05 19:45:51,885 - INFO - Formatted system message: [SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert.")]
2024-06-05 19:45:51,886 - INFO - Final prompt: input_variables=[] messages=[SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert."), HumanMessagePromptTemplate(prompt=PromptTemplate(input_variables=[], template='Why does my dog always bark when someone is coming home?'))]
2024-06-05 19:45:51,887 - INFO - Chain: first=ChatPromptTemplate(input_variables=[], messages=[SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert."), HumanMessagePromptTemplate(prompt=PromptTemplate(input_variables=[], template='Why does my dog always bark when someone is coming home?'))]) middle=[ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x10a861370>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x10a869ee0>, openai_api_key=SecretStr('**********'), openai_proxy='')] last=CustomOutputParser()
2024-06-05 19:45:52,503 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-05 19:45:54,298 - INFO - Response chunk: {'advice': 'Buddy may be barking when someone is coming home due to excitement or anticipation. This behavior is common in dogs who are social and enjoy the company of their family members. To address this, you can work on training Buddy to greet visitors calmly and quietly. Practice desensitization by gradually exposing him to the sound of someone approaching and rewarding him for staying calm. Engaging him in a quiet activity or providing a special toy when someone is about to arrive can also help redirect his focus.', 'references': []}
2024-06-05 19:45:54,298 - ERROR - Invalid chunk received: {'advice': 'Buddy may be barking when someone is coming home due to excitement or anticipation. This behavior is common in dogs who are social and enjoy the company of their family members. To address this, you can work on training Buddy to greet visitors calmly and quietly. Practice desensitization by gradually exposing him to the sound of someone approaching and rewarding him for staying calm. Engaging him in a quiet activity or providing a special toy when someone is about to arrive can also help redirect his focus.', 'references': []}
2024-06-05 19:45:54,301 - INFO - 127.0.0.1 - - [05/Jun/2024 19:45:54] "POST /chat HTTP/1.1" 200 -
2024-06-05 19:46:25,797 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 19:46:25,938 - INFO -  * Restarting with stat
2024-06-05 19:46:26,678 - WARNING -  * Debugger is active!
2024-06-05 19:46:26,684 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 19:46:29,120 - INFO - Received request: {'input': 'Why does my dog always bark when someone is coming home?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 19:46:29,121 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 19:46:29,122 - INFO - System template: You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert.
2024-06-05 19:46:29,122 - INFO - Formatted system message: [SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert.")]
2024-06-05 19:46:29,123 - INFO - Final prompt: input_variables=[] messages=[SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert."), HumanMessagePromptTemplate(prompt=PromptTemplate(input_variables=[], template='Why does my dog always bark when someone is coming home?'))]
2024-06-05 19:46:29,125 - INFO - Chain: first=ChatPromptTemplate(input_variables=[], messages=[SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert."), HumanMessagePromptTemplate(prompt=PromptTemplate(input_variables=[], template='Why does my dog always bark when someone is coming home?'))]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x118e601f0>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x118e68d90>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-05 19:46:30,891 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-05 19:46:30,945 - INFO - Response chunk: content='' id='run-76e6c859-db74-4139-b1ba-7e7352a6db7d'
2024-06-05 19:46:30,945 - ERROR - Exception occurred while streaming response: 'RunnableSequence' object has no attribute 'output_parser'
2024-06-05 19:46:30,951 - INFO - 127.0.0.1 - - [05/Jun/2024 19:46:30] "POST /chat HTTP/1.1" 200 -
2024-06-05 19:46:42,020 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 19:46:42,177 - INFO -  * Restarting with stat
2024-06-05 19:46:42,940 - WARNING -  * Debugger is active!
2024-06-05 19:46:42,947 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 19:46:51,176 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 19:46:51,316 - INFO -  * Restarting with stat
2024-06-05 19:46:52,068 - WARNING -  * Debugger is active!
2024-06-05 19:46:52,076 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 19:46:52,988 - INFO - Received request: {'input': 'Why does my dog always bark when someone is coming home?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 19:46:52,989 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 19:46:52,989 - INFO - System template: You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}. If the question is not about dog behavior, mention that you are a dog behavior expert.
2024-06-05 19:46:52,990 - INFO - Formatted system message: [SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. If the question is not about dog behavior, mention that you are a dog behavior expert.")]
2024-06-05 19:46:52,990 - INFO - Final prompt: input_variables=['messages'] input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]} messages=[SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. If the question is not about dog behavior, mention that you are a dog behavior expert."), MessagesPlaceholder(variable_name='messages')]
2024-06-05 19:46:52,991 - INFO - Chain: first=ChatPromptTemplate(input_variables=['messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. If the question is not about dog behavior, mention that you are a dog behavior expert."), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x1095601c0>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x109568dc0>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-05 19:46:53,635 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-05 19:46:53,676 - INFO - 127.0.0.1 - - [05/Jun/2024 19:46:53] "POST /chat HTTP/1.1" 200 -
2024-06-05 19:46:57,179 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 19:46:57,306 - INFO -  * Restarting with stat
2024-06-05 19:46:58,053 - WARNING -  * Debugger is active!
2024-06-05 19:46:58,059 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 19:47:02,385 - INFO - Received request: {'input': 'Why does my dog always bark when someone is coming home?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 19:47:02,386 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 19:47:02,386 - INFO - System template: You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert.
2024-06-05 19:47:02,387 - INFO - Formatted system message: [SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert.")]
2024-06-05 19:47:02,388 - INFO - Final prompt: input_variables=['messages'] input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]} messages=[SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert."), MessagesPlaceholder(variable_name='messages')]
2024-06-05 19:47:02,389 - INFO - Chain: first=ChatPromptTemplate(input_variables=['messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. Format the response as a JSON object with 'advice' and 'references' fields. If the question is not about dog behavior, mention that you are a dog behavior expert."), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x12cb601c0>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x12cb68dc0>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-05 19:47:03,489 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-05 19:47:03,548 - INFO - 127.0.0.1 - - [05/Jun/2024 19:47:03] "POST /chat HTTP/1.1" 200 -
2024-06-05 19:47:33,826 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 19:47:33,957 - INFO -  * Restarting with stat
2024-06-05 19:47:34,684 - WARNING -  * Debugger is active!
2024-06-05 19:47:34,691 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 19:47:36,147 - INFO - Received request: {'input': 'Why does my dog always bark when someone is coming home?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 19:47:36,149 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 19:47:36,149 - INFO - System template: You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}. Format the response with and 'advice' and 'references' field. If the question is not about dog behavior, mention that you are a dog behavior expert.
2024-06-05 19:47:36,150 - INFO - Formatted system message: [SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. Format the response with and 'advice' and 'references' field. If the question is not about dog behavior, mention that you are a dog behavior expert.")]
2024-06-05 19:47:36,151 - INFO - Final prompt: input_variables=['messages'] input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]} messages=[SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. Format the response with and 'advice' and 'references' field. If the question is not about dog behavior, mention that you are a dog behavior expert."), MessagesPlaceholder(variable_name='messages')]
2024-06-05 19:47:36,152 - INFO - Chain: first=ChatPromptTemplate(input_variables=['messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. Format the response with and 'advice' and 'references' field. If the question is not about dog behavior, mention that you are a dog behavior expert."), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x1093f01c0>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x1093f8dc0>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-05 19:47:37,061 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-05 19:47:37,123 - INFO - 127.0.0.1 - - [05/Jun/2024 19:47:37] "POST /chat HTTP/1.1" 200 -
2024-06-05 19:48:30,832 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 19:48:30,963 - INFO -  * Restarting with stat
2024-06-05 19:48:31,679 - WARNING -  * Debugger is active!
2024-06-05 19:48:31,686 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 19:48:32,007 - INFO - Received request: {'input': 'Why does my dog always bark when someone is coming home?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 19:48:32,009 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 19:48:32,009 - INFO - System template: You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}. Format the response with and 'advice' and 'references' field and make sure to reflect on how the breed, age and sex could affect the behavior. If the question is not about dog behavior, mention that you are a dog behavior expert.
2024-06-05 19:48:32,010 - INFO - Formatted system message: [SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. Format the response with and 'advice' and 'references' field and make sure to reflect on how the breed, age and sex could affect the behavior. If the question is not about dog behavior, mention that you are a dog behavior expert.")]
2024-06-05 19:48:32,011 - INFO - Final prompt: input_variables=['messages'] input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]} messages=[SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. Format the response with and 'advice' and 'references' field and make sure to reflect on how the breed, age and sex could affect the behavior. If the question is not about dog behavior, mention that you are a dog behavior expert."), MessagesPlaceholder(variable_name='messages')]
2024-06-05 19:48:32,014 - INFO - Chain: first=ChatPromptTemplate(input_variables=['messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. Format the response with and 'advice' and 'references' field and make sure to reflect on how the breed, age and sex could affect the behavior. If the question is not about dog behavior, mention that you are a dog behavior expert."), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x10c120190>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x10c128d90>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-05 19:48:32,801 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-05 19:48:32,856 - INFO - 127.0.0.1 - - [05/Jun/2024 19:48:32] "POST /chat HTTP/1.1" 200 -
2024-06-05 19:49:12,549 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 19:49:12,675 - INFO -  * Restarting with stat
2024-06-05 19:49:13,421 - WARNING -  * Debugger is active!
2024-06-05 19:49:13,428 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 19:49:13,441 - INFO - Received request: {'input': 'Why does my dog always bark when someone is coming home?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 19:49:13,443 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 19:49:13,443 - INFO - System template: You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}. Format the response with and 'advice' and 'references' field and make sure to reflect on how the breed, age and sex could affect the behavior. If the beahviour has nothing to do with these features, mention that.If the question is not about dog behavior, mention that you are a dog behavior expert.
2024-06-05 19:49:13,444 - INFO - Formatted system message: [SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. Format the response with and 'advice' and 'references' field and make sure to reflect on how the breed, age and sex could affect the behavior. If the beahviour has nothing to do with these features, mention that.If the question is not about dog behavior, mention that you are a dog behavior expert.")]
2024-06-05 19:49:13,445 - INFO - Final prompt: input_variables=['messages'] input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]} messages=[SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. Format the response with and 'advice' and 'references' field and make sure to reflect on how the breed, age and sex could affect the behavior. If the beahviour has nothing to do with these features, mention that.If the question is not about dog behavior, mention that you are a dog behavior expert."), MessagesPlaceholder(variable_name='messages')]
2024-06-05 19:49:13,446 - INFO - Chain: first=ChatPromptTemplate(input_variables=['messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessage(content="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: Buddy - Birth Date: 2017-06-19 - Age: 6 - Breed: Labrador - Sex: Male. Please make the answer personalized for Buddy. Format the response with and 'advice' and 'references' field and make sure to reflect on how the breed, age and sex could affect the behavior. If the beahviour has nothing to do with these features, mention that.If the question is not about dog behavior, mention that you are a dog behavior expert."), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x1157c8220>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x1157d0e20>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-05 19:49:14,387 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-05 19:49:14,456 - INFO - 127.0.0.1 - - [05/Jun/2024 19:49:14] "POST /chat HTTP/1.1" 200 -
2024-06-05 23:05:45,647 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.1.11:8081
2024-06-05 23:05:45,647 - INFO - [33mPress CTRL+C to quit[0m
2024-06-05 23:05:45,648 - INFO -  * Restarting with stat
2024-06-05 23:05:46,391 - WARNING -  * Debugger is active!
2024-06-05 23:05:46,401 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 23:07:14,894 - INFO - Received request: {'input': 'Why does my dog always bark when someone is coming home?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 23:07:14,896 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 23:07:14,897 - INFO - Chain: first=ChatPromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex', 'messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex'], template="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}.If the question is not about dog behavior or you don't know the answer, say so.")), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x10f89f1c0>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x10f8a7dc0>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-05 23:07:15,863 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-05 23:07:15,924 - INFO - 127.0.0.1 - - [05/Jun/2024 23:07:15] "POST /chat HTTP/1.1" 200 -
2024-06-05 23:10:39,034 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 23:10:39,168 - INFO -  * Restarting with stat
2024-06-05 23:10:39,945 - WARNING -  * Debugger is active!
2024-06-05 23:10:39,952 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 23:10:48,152 - INFO - Received request: {'input': 'Why does my dog always bark when someone is coming home?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 23:10:48,153 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 23:10:48,154 - INFO - Chain: first=ChatPromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex', 'messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex'], template="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}.If the question is not about dog behavior or you don't know the answer, say so. Use 10 sentences maximum and keep the answer concise.")), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x112e681c0>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x112e70dc0>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-05 23:10:48,895 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-05 23:10:48,966 - INFO - 127.0.0.1 - - [05/Jun/2024 23:10:48] "POST /chat HTTP/1.1" 200 -
2024-06-05 23:10:57,341 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 23:10:57,471 - INFO -  * Restarting with stat
2024-06-05 23:10:58,177 - WARNING -  * Debugger is active!
2024-06-05 23:10:58,184 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 23:10:58,925 - INFO - Received request: {'input': 'Why does my dog always bark when someone is coming home?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 23:10:58,926 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 23:10:58,927 - INFO - Chain: first=ChatPromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex', 'messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex'], template="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}.If the question is not about dog behavior or you don't know the answer, say so. Use three sentences maximum and keep the answer concise.")), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x111de0220>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x111de8e20>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-05 23:10:59,853 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-05 23:10:59,920 - INFO - 127.0.0.1 - - [05/Jun/2024 23:10:59] "POST /chat HTTP/1.1" 200 -
2024-06-05 23:11:29,929 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 23:11:30,074 - INFO -  * Restarting with stat
2024-06-05 23:11:30,871 - WARNING -  * Debugger is active!
2024-06-05 23:11:30,878 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 23:11:30,891 - INFO - Received request: {'input': 'Why does my dog always bark when someone is coming home?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 23:11:30,892 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 23:11:30,893 - INFO - Chain: first=ChatPromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex', 'messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex'], template="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}.If the question is not about dog behavior or you don't know the answer, say so. Use four sentences maximum and keep the answer concise.")), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x11ef201c0>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x11ef28dc0>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-05 23:11:31,930 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-05 23:11:32,010 - INFO - 127.0.0.1 - - [05/Jun/2024 23:11:32] "POST /chat HTTP/1.1" 200 -
2024-06-05 23:13:12,487 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 23:13:12,830 - INFO -  * Restarting with stat
2024-06-05 23:13:13,580 - WARNING -  * Debugger is active!
2024-06-05 23:13:13,587 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 23:13:13,600 - INFO - Received request: {'input': 'Why does my dog always bark when someone is coming home?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 23:13:13,602 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 23:13:13,603 - INFO - Chain: first=ChatPromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex', 'messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex'], template="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}.If the question is not about dog behavior or you don't know the answer, say so. Use three sentences maximum and keep the answer concise.")), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x1223e0220>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x1223e8e20>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-05 23:13:14,547 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-05 23:13:14,625 - INFO - 127.0.0.1 - - [05/Jun/2024 23:13:14] "POST /chat HTTP/1.1" 200 -
2024-06-05 23:15:13,859 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 23:15:14,002 - INFO -  * Restarting with stat
2024-06-05 23:15:14,927 - WARNING -  * Debugger is active!
2024-06-05 23:15:14,962 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 23:15:16,006 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 23:15:16,369 - INFO -  * Restarting with stat
2024-06-05 23:15:17,188 - WARNING -  * Debugger is active!
2024-06-05 23:15:17,195 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 23:15:46,879 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 23:15:47,010 - INFO -  * Restarting with stat
2024-06-05 23:15:47,720 - WARNING -  * Debugger is active!
2024-06-05 23:15:47,727 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 23:15:58,992 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 23:15:59,135 - INFO -  * Restarting with stat
2024-06-05 23:16:00,455 - WARNING -  * Debugger is active!
2024-06-05 23:16:00,467 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 23:16:05,605 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 23:16:05,748 - INFO -  * Restarting with stat
2024-06-05 23:16:06,546 - WARNING -  * Debugger is active!
2024-06-05 23:16:06,553 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 23:16:59,044 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 23:16:59,154 - INFO -  * Restarting with stat
2024-06-05 23:17:00,468 - WARNING -  * Debugger is active!
2024-06-05 23:17:00,475 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 23:17:30,096 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 23:17:30,203 - INFO -  * Restarting with stat
2024-06-05 23:17:30,928 - WARNING -  * Debugger is active!
2024-06-05 23:17:30,935 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 23:17:51,430 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 23:17:51,565 - INFO -  * Restarting with stat
2024-06-05 23:19:22,109 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.1.11:8081
2024-06-05 23:19:22,109 - INFO - [33mPress CTRL+C to quit[0m
2024-06-05 23:19:22,109 - INFO -  * Restarting with stat
2024-06-05 23:19:22,851 - WARNING -  * Debugger is active!
2024-06-05 23:19:22,858 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 23:19:24,344 - INFO - Received request: {'input': 'Why does my dog always bark when someone is coming home?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 23:19:24,351 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 23:19:24,354 - INFO - Chain: first=ChatPromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex', 'messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex'], template="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}.If the question is not about dog behavior or you don't know the answer, say so. Use three sentences maximum and keep the answer concise.")), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x11cd9f130>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x11cda7d30>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-05 23:19:24,396 - INFO - 127.0.0.1 - - [05/Jun/2024 23:19:24] "POST /chat HTTP/1.1" 200 -
2024-06-05 23:19:34,115 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 23:19:34,274 - INFO -  * Restarting with stat
2024-06-05 23:19:34,947 - WARNING -  * Debugger is active!
2024-06-05 23:19:34,953 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 23:19:34,966 - INFO - Received request: {'input': 'Why does my dog always bark when someone is coming home?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 23:19:34,968 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 23:19:34,968 - INFO - Chain: first=ChatPromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex', 'messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex'], template="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}.If the question is not about dog behavior or you don't know the answer, say so. Use three sentences maximum and keep the answer concise.")), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x11500c0a0>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x115015ca0>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-05 23:19:34,993 - INFO - 127.0.0.1 - - [05/Jun/2024 23:19:34] "POST /chat HTTP/1.1" 200 -
2024-06-05 23:19:38,066 - INFO - Received request: {'input': 'Why does my dog always bark when someone is coming home?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 23:19:38,067 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 23:19:38,067 - INFO - Chain: first=ChatPromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex', 'messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex'], template="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}.If the question is not about dog behavior or you don't know the answer, say so. Use three sentences maximum and keep the answer concise.")), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x11500c0a0>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x115015ca0>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-05 23:19:38,083 - INFO - 127.0.0.1 - - [05/Jun/2024 23:19:38] "POST /chat HTTP/1.1" 200 -
2024-06-05 23:21:59,602 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 23:21:59,721 - INFO -  * Restarting with stat
2024-06-05 23:22:00,463 - WARNING -  * Debugger is active!
2024-06-05 23:22:00,471 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 23:22:02,048 - INFO - Received request: {'input': 'Why does my dog always bark when someone is coming home?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 23:22:02,050 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 23:22:02,051 - INFO - Chain: first=ChatPromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex', 'messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex'], template="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}.If the question is not about dog behavior or you don't know the answer, say so. Use three sentences maximum and keep the answer concise.")), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x1278e01f0>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x1278e8df0>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-05 23:22:02,685 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-05 23:22:02,733 - INFO - 127.0.0.1 - - [05/Jun/2024 23:22:02] "POST /chat HTTP/1.1" 200 -
2024-06-05 23:22:20,962 - INFO - Received request: {'input': 'Answer the last question again?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 23:22:20,962 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 23:22:20,963 - INFO - Chain: first=ChatPromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex', 'messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex'], template="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}.If the question is not about dog behavior or you don't know the answer, say so. Use three sentences maximum and keep the answer concise.")), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x1278e01f0>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x1278e8df0>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-05 23:22:21,725 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-05 23:22:21,727 - INFO - 127.0.0.1 - - [05/Jun/2024 23:22:21] "POST /chat HTTP/1.1" 200 -
2024-06-05 23:22:29,111 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 23:22:29,227 - INFO -  * Restarting with stat
2024-06-05 23:22:29,927 - WARNING -  * Debugger is active!
2024-06-05 23:22:29,933 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 23:22:29,972 - INFO - Received request: {'input': 'Answer the last question again?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 23:22:29,973 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 23:22:29,973 - INFO - Chain: first=ChatPromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex', 'messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex'], template="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}.If the question is not about dog behavior or you don't know the answer, say so. Use three sentences maximum and keep the answer concise.")), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x122020160>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x122028d60>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-05 23:22:30,573 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-05 23:22:31,034 - INFO - 127.0.0.1 - - [05/Jun/2024 23:22:31] "POST /chat HTTP/1.1" 200 -
2024-06-05 23:22:58,814 - INFO - Received request: {'input': 'Why does my dog always bark when someone is coming home?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'breed': 'Labrador', 'sex': 'Male'}}
2024-06-05 23:22:58,814 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': None, 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 23:22:58,814 - INFO - Chain: first=ChatPromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex', 'messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex'], template="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}.If the question is not about dog behavior or you don't know the answer, say so. Use three sentences maximum and keep the answer concise.")), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x122020160>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x122028d60>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-05 23:22:59,290 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 400 Bad Request"
2024-06-05 23:22:59,335 - INFO - 127.0.0.1 - - [05/Jun/2024 23:22:59] "POST /chat HTTP/1.1" 200 -
2024-06-05 23:23:06,906 - INFO - Received request: {'input': 'Why does my dog always bark when someone is coming home?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'breed': 'Labrador', 'sex': 'Male'}}
2024-06-05 23:23:06,906 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': None, 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 23:23:06,906 - INFO - Chain: first=ChatPromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex', 'messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex'], template="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}.If the question is not about dog behavior or you don't know the answer, say so. Use three sentences maximum and keep the answer concise.")), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x122020160>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x122028d60>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-05 23:23:07,677 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 400 Bad Request"
2024-06-05 23:23:07,699 - INFO - 127.0.0.1 - - [05/Jun/2024 23:23:07] "POST /chat HTTP/1.1" 200 -
2024-06-05 23:23:11,370 - INFO - Received request: {'input': 'Answer the last question again?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 23:23:11,371 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 23:23:11,371 - INFO - Chain: first=ChatPromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex', 'messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex'], template="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}.If the question is not about dog behavior or you don't know the answer, say so. Use three sentences maximum and keep the answer concise.")), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x122020160>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x122028d60>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-05 23:23:11,824 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 400 Bad Request"
2024-06-05 23:23:11,847 - INFO - 127.0.0.1 - - [05/Jun/2024 23:23:11] "POST /chat HTTP/1.1" 200 -
2024-06-05 23:23:15,058 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 23:23:15,194 - INFO -  * Restarting with stat
2024-06-05 23:23:15,927 - WARNING -  * Debugger is active!
2024-06-05 23:23:15,934 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 23:23:15,947 - INFO - Received request: {'input': 'Answer the last question again?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 23:23:15,948 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 23:23:15,949 - INFO - Chain: first=ChatPromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex', 'messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex'], template="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}.If the question is not about dog behavior or you don't know the answer, say so. Use three sentences maximum and keep the answer concise.")), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x118e20190>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x118e28d90>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-05 23:23:16,645 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-05 23:23:16,713 - INFO - 127.0.0.1 - - [05/Jun/2024 23:23:16] "POST /chat HTTP/1.1" 200 -
2024-06-05 23:23:27,242 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 23:23:27,359 - INFO -  * Restarting with stat
2024-06-05 23:23:28,053 - WARNING -  * Debugger is active!
2024-06-05 23:23:28,059 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 23:23:58,587 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 23:23:58,701 - INFO -  * Restarting with stat
2024-06-05 23:23:59,505 - WARNING -  * Debugger is active!
2024-06-05 23:23:59,518 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 23:24:11,707 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-05 23:24:11,819 - INFO -  * Restarting with stat
2024-06-05 23:24:12,619 - WARNING -  * Debugger is active!
2024-06-05 23:24:12,625 - INFO -  * Debugger PIN: 716-217-886
2024-06-05 23:24:14,377 - INFO - Received request: {'input': 'Answer the last question again?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 23:24:14,378 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 23:24:14,379 - INFO - Chain: first=ChatPromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex', 'messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex'], template="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}.If the question is not about dog behavior or you don't know the answer, say so. Use three sentences maximum and keep the answer concise.")), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x109320160>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x109328d60>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-05 23:24:14,983 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-05 23:24:15,031 - INFO - 127.0.0.1 - - [05/Jun/2024 23:24:15] "POST /chat HTTP/1.1" 200 -
2024-06-05 23:24:35,039 - INFO - Received request: {'input': 'Why does my dog bark when I come home?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 23:24:35,039 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 23:24:35,039 - INFO - Chain: first=ChatPromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex', 'messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex'], template="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}.If the question is not about dog behavior or you don't know the answer, say so. Use three sentences maximum and keep the answer concise.")), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x109320160>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x109328d60>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-05 23:24:35,967 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-05 23:24:35,970 - INFO - 127.0.0.1 - - [05/Jun/2024 23:24:35] "POST /chat HTTP/1.1" 200 -
2024-06-05 23:24:40,040 - INFO - Received request: {'input': 'Answer the last question again?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 23:24:40,040 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 23:24:40,041 - INFO - Chain: first=ChatPromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex', 'messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex'], template="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}.If the question is not about dog behavior or you don't know the answer, say so. Use three sentences maximum and keep the answer concise.")), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x109320160>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x109328d60>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-05 23:24:40,830 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-05 23:24:40,835 - INFO - 127.0.0.1 - - [05/Jun/2024 23:24:40] "POST /chat HTTP/1.1" 200 -
2024-06-05 23:25:08,452 - INFO - Received request: {'input': 'But has it anything to do with his breed?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 23:25:08,452 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 23:25:08,452 - INFO - Chain: first=ChatPromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex', 'messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex'], template="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}.If the question is not about dog behavior or you don't know the answer, say so. Use three sentences maximum and keep the answer concise.")), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x109320160>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x109328d60>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-05 23:25:09,297 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-05 23:25:09,301 - INFO - 127.0.0.1 - - [05/Jun/2024 23:25:09] "POST /chat HTTP/1.1" 200 -
2024-06-05 23:25:32,255 - INFO - Received request: {'input': 'Do you have any tips on how to get rid of it for me?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-05 23:25:32,255 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-05 23:25:32,256 - INFO - Chain: first=ChatPromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex', 'messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex'], template="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}.If the question is not about dog behavior or you don't know the answer, say so. Use three sentences maximum and keep the answer concise.")), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x109320160>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x109328d60>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-05 23:25:32,959 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-05 23:25:32,961 - INFO - 127.0.0.1 - - [05/Jun/2024 23:25:32] "POST /chat HTTP/1.1" 200 -
2024-06-06 08:29:34,322 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.1.11:8081
2024-06-06 08:29:34,323 - INFO - [33mPress CTRL+C to quit[0m
2024-06-06 08:29:34,323 - INFO -  * Restarting with stat
2024-06-06 08:29:35,135 - WARNING -  * Debugger is active!
2024-06-06 08:29:35,152 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 08:29:47,152 - INFO - Received request: {'input': 'Do you have any tips on how to get rid of it for me?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-06 08:29:47,153 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-06 08:29:49,838 - INFO - Loading faiss.
2024-06-06 08:29:50,037 - INFO - Successfully loaded faiss.
2024-06-06 08:29:50,051 - INFO - 127.0.0.1 - - [06/Jun/2024 08:29:50] "POST /chat HTTP/1.1" 200 -
2024-06-06 08:30:47,981 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-06 08:30:48,105 - INFO -  * Restarting with stat
2024-06-06 08:30:48,882 - WARNING -  * Debugger is active!
2024-06-06 08:30:48,889 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 08:30:51,953 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-06 08:30:52,086 - INFO -  * Restarting with stat
2024-06-06 08:32:16,429 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.1.11:8081
2024-06-06 08:32:16,429 - INFO - [33mPress CTRL+C to quit[0m
2024-06-06 08:32:16,429 - INFO -  * Restarting with stat
2024-06-06 08:32:17,220 - WARNING -  * Debugger is active!
2024-06-06 08:32:17,227 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 08:32:18,133 - INFO - Received request: {'input': 'Do you have any tips on how to get rid of it for me?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-06 08:32:18,135 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-06 08:32:18,224 - INFO - 127.0.0.1 - - [06/Jun/2024 08:32:18] "POST /chat HTTP/1.1" 200 -
2024-06-06 08:32:42,716 - INFO - Received request: {'input': 'Do you have any tips on how to get rid of it for me?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-06 08:32:42,717 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-06 08:32:42,722 - INFO - 127.0.0.1 - - [06/Jun/2024 08:32:42] "POST /chat HTTP/1.1" 200 -
2024-06-06 08:32:42,788 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-06 08:32:42,913 - INFO -  * Restarting with stat
2024-06-06 08:32:43,638 - WARNING -  * Debugger is active!
2024-06-06 08:32:43,645 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 08:32:46,624 - INFO - Received request: {'input': 'Do you have any tips on how to get rid of it for me?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-06 08:32:46,626 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-06 08:32:46,690 - INFO - 127.0.0.1 - - [06/Jun/2024 08:32:46] "POST /chat HTTP/1.1" 200 -
2024-06-06 08:32:51,802 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-06 08:32:51,937 - INFO -  * Restarting with stat
2024-06-06 08:32:52,641 - WARNING -  * Debugger is active!
2024-06-06 08:32:52,648 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 08:32:53,820 - INFO - Received request: {'input': 'Do you have any tips on how to get rid of it for me?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-06 08:32:53,822 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-06 08:32:53,884 - INFO - 127.0.0.1 - - [06/Jun/2024 08:32:53] "POST /chat HTTP/1.1" 200 -
2024-06-06 08:33:14,127 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-06 08:33:14,255 - INFO -  * Restarting with stat
2024-06-06 08:33:15,011 - WARNING -  * Debugger is active!
2024-06-06 08:33:15,018 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 08:33:15,032 - INFO - Received request: {'input': 'Do you have any tips on how to get rid of it for me?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-06 08:33:15,033 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-06 08:33:15,575 - INFO - Pages: [Document(page_content='1 Scientific  RepoRtS  |         (2019) 9:19312  | https://doi.org/10.1038/s41598-019-55714-6\nwww.nature.com/scientificreportsDifferences in facial expressions \nduring positive anticipation and \nfrustration in dogs awaiting a \nreward\nAnnika Bremhorst  1,2,3*, Nicole A. Sutter1, Hanno Würbel  1, Daniel S. Mills  3 & \nStefanie Riemer1\nFacial expressions are considered sensitive indicators of emotional states in humans and many animals. \nIdentifying facial indicators of emotion is a major challenge and little systematic research has been done in non-primate species. In dogs, such research is important not only to address fundamental and applied \nscientific questions but also for practical reasons, since many problem behaviours are assumed to have \nan emotional basis, e.g. aggression based on frustration. Frustration responses can occur in superficially similar contexts as the emotional state of positive anticipation. For instance, the anticipated delivery of a food reward may induce the state of positive anticipation, but over time, if the food is not delivered, \nthis will be replaced by frustration. We examined dogs’ facial expressions in contexts presumed to \ninduce both positive anticipation and frustration, respectively, within a single controlled experimental setting. Using DogFACS, an anatomically-based method for coding facial expressions of dogs, we found that the “Ears adductor” action was more common in the positive condition and “Blink”, “Lips part”, \n“Jaw drop”, “Nose lick”, and “Ears flattener” were more common in the negative condition. This study \ndemonstrates how differences in facial expression in emotionally ambiguous contexts may be used to \nhelp infer emotional states of different valence.\nEmotional reactions are short-lasting affective responses\n1 to rewarding and punishing events2. Emotions can be \nclassified either within a\xa0multidimensional space, often along two axes comprising arousal (i.e. high versus low) \nand hedonic valence (i.e. positivity versus negativity of an emotion; e.g.3), or as discrete states (e.g. happiness, \nfear, frustration; e.g.4). Both approaches are applied in non-human animal research, and they are not necessarily \nmutually exclusive but can be integrated (e.g. localizing discrete emotional states within the valence and arousal dimensions)\n2. To draw inferences about the emotional states of animals, we need to identify measurable proxy \nindicators5. Established indicators of emotional states enable us to answer fundamental proximate and ultimate \nresearch questions, such as how different emotions are expressed in different species or whether commonalities can be observed between them (see e.g.\n6), as well as to address questions in the applied sciences.\nBehaviour is used as a marker of several components of emotions7 and so can be a valuable for inferring \nthe emotional states of an animal. Alongside alterations in physiological and cognitive processes2,7, emotions \nare accompanied by changes in an individual’s behavioural expression2,7,8, including changes in motor action \npatterns, body postures, and facial expressions9. Human emotion research has focused extensively on facial \nexpressions to help identify predictive indicators of emotional states (see, for example10–14). Facial movements \nare also present in most mammalian species15,16 and are assumed to convey information about emotional states \nin non-human animals as well (see for a review5,17). Consequently, facial expressions offer considerable potential \nas indicators of emotional states in animals5, and they are receiving increasing attention in research on animal \nemotions (see e.g.18–22).\nIn human emotion research, the Facial Action Coding System (FACS)23,24 is widely considered the gold stand -\nard for measuring facial emotional expressions6,25. FACS is anatomically-based, systematically describing facial \nappearance changes based on movements of the underlying facial musculature, hence, facilitating objective and \n1Division of Animal Welfare, DCR-VPHI, Vetsuisse Faculty, University of Bern, 3012, Bern, Switzerland. 2Graduate \nSchool for Cellular and Biomedical Sciences (GCB), University of Bern, 3012, Bern, Switzerland. 3School of Life \nSciences, University of Lincoln, Lincoln, LN6 7DL, United Kingdom. *email: annika@bremhorst.deopen', metadata={'source': './components/FacialExpressionsDogs.pdf', 'page': 0}), Document(page_content='2 Scientific  RepoRtS  |         (2019) 9:19312  | https://doi.org/10.1038/s41598-019-55714-6\nwww.nature.com/scientificreports www.nature.com/scientificreports/standardised measurements of facial expression26. Thus, rather than considering facial expressions holistically \n(e.g. identifying a face as “happy” or a particular expression as a “smile” , without specifying the relevant facial fea-\ntures in more detail), FACS decomposes and objectively describes distinct facial features6. FACS requires training \nand a certification by the coder in order to be used reliably in a scientific context (e.g.26–28). Having originally \nbeen developed for humans, FACS has more recently been adapted for different non-human species including dogs (DogFACS\n26). Thus, there is now the potential to use Facial Action Coding Systems for the investigation of \nemotions in selected non-human animal species as well.\nThe domestic dog is a species where research interest on emotional states has been increasing in recent years \n(see for a review29). Dogs are morphologically diverse, highly social domestic animals who are closely integrated \ninto human social networks30, and the human environment can be considered the natural ecological niche of \nthis species31. This close cohabitation requires safe interactions between humans and dogs, for which we need to \ninterpret dogs’ behavioural expressions correctly32. Dogs have been shown to produce different facial configura-\ntions in different emotional states (e.g.6), and it has even been suggested that dogs may have evolved certain facial \nexpressions as a result of domestication that are specifically attractive to humans26,33. Thus, the dog provides a \nunique non-primate model for studying emotional expressions that are of interest to humans.\nResearch investigating emotional expressions in dogs has investigated affective vocalisations (e.g34), body \nexpressions, and general behavioural responses of dogs in different emotional states (e.g.35–40; see41 for a review \non dog communication). Furthermore, dogs’ faces appear to convey important information of communicative value concerning their emotional state (e.g.\n6,42). For instance, increased occurrence of mouth-licking behaviour, \noriginally described in relation to acute stress in dogs43, has been found to occur more precisely when dogs were \nconfronted with images depicting a negative human facial expression, and not so much when presented with a negative dog facial expression\n42. However, this study42 did not provide a precise definition on the mouth-licking \nbehaviour, of which there are several forms, for example varying in the extent of tongue protrusion (only just protruding from the mouth, wiping the lips, or licking up to the nose) or possibly lateralised effects which might have different communicative significance. DogFACS\n26 provides a means to objectively code such subtlety and \nvariation.\nDogFACS26 has recently been used to compare differences between the facial expressions of a sample of dogs \nand their closest extant relatives, gray wolves33. This indicated a potential difference in a specific facial expression \n(the inner brow raiser) that led the authors to suggest that this difference evolved during domestication specifi-cally for interspecies communication with humans\n33. DogFACS26 has also been used to identify that the perfor -\nmance of the inner eye brow raiser may affect the selection of shelter dogs by humans26. More broadly, DogFACS \nmay enable quantification of both the type and amount of facial activity in different contexts, e.g. in relation to human attention and/or by an arousing stimulus (food)\n44. This has been used to argue that dogs tailor their facial \nexpressions according to their potential audience, providing evidence of their social communicative function44. \nWith regard to emotional states, DogFACS has recently been applied to assess the facial expressions of dogs in videos relating to four different putative emotional states defined by context: positive anticipation, happiness, fear, and frustration\n6.\nFrustration is an aversive emotional state36,45 that can arise in a range of situations (see46), such as when an \nexpected reward is absent, delayed45, reduced in value (reviewed in47), or inaccessible due to barriers4, which can \nbe of a physical or social nature. Frustration is closely linked to the emotional state of positive anticipation, which is assumed to arise when a reward is expected\n48–50. However, if access to the expected reward is denied, positive \nanticipation may eventually turn into frustration; consequently, both emotional states can arise in similar cir -\ncumstances – such as the withholding of food. Anticipatory behavioural expressions are often observed prior to an animal obtaining food\n49, and this primary reinforcer has been used with different species to study behavioural \nresponses when expecting a food reward or when this expectation is thwarted (e.g.36,48,51–55).\nBehavioural expressions of positive anticipation seem to be, at least in part, species-specific. In some species, \nanticipation of a positive event is associated with an increase in activity (e.g. rats48,56; pigs57; foxes58; horses52), \nwhereas in other species it is associated with a reduction in activity (e.g. cats48; fowl59). In dogs, one study has \nshown that their behavioural response when anticipating a reward was dependent on the animals’ ability to con-trol access to the desired stimulus\n38. When the reward was accessible by performing an operant behaviour on \na previously trained device, the dogs showed a higher activity level and frequency of tail wagging compared to control dogs who were not previously trained on the device and, hence, could not control access to the reward\n38. \nControl dogs also showed biting and chewing behaviours towards the operant device which was not observed for any trained dog, and were reluctant to enter the test area after the first few trials\n38. These observations are con-\nsistent with the control dogs experiencing a negative state akin to frustration. However, signs of frustration may not always be obvious and behavioural changes can be hard to interpret (c.f.\n60). In two other frustration-related \nstudies, dogs showed several behaviour changes such as lying down and increasing their distance from the exper -\nimenter who had previously been rewarding them36,54. The dogs also showed increasing ambulation, vocalization \nand sniffing at this time36. By contrast, in the frustration-provoking situation of another study, with an experi-\nmenter withholding food by keeping a treat in her closed hand, dogs manipulated the hand with their mouth, stood motionless, and gazed at the experimenter\n55. Thus, the overt behavioural tendencies of dogs to frustration \nmight be quite variable, possibly depending on the specifically frustrating context. Indeed in the latter study55, the \ndogs also showed an increase in nose and lip licking, which may relate to overt communicative signals associated with the conflict related to frustration around humans or the specific use of food in this context.\nCaeiro and colleagues (2017)\n6 were the first to specifically investigate facial expressions of dogs during pos-\nitive anticipation and frustration (as well as during happiness and fear) using DogFACS26. In this study6, the \nspontaneous response of dogs of different breeds and mixes was assessed using online videos depicting contexts that were associated with the target emotional states. Initially, relevant contextual criteria and triggering stimuli associated with each emotional state were defined. Positive anticipation was defined as being induced by the “[v]', metadata={'source': './components/FacialExpressionsDogs.pdf', 'page': 1}), Document(page_content='3 Scientific  RepoRtS  |         (2019) 9:19312  | https://doi.org/10.1038/s41598-019-55714-6\nwww.nature.com/scientificreports www.nature.com/scientificreports/isualisation of food or hearing meal/food related word(s); [v]isualisation of leash, hearing walk related word(s). ”6. \nThe dogs’ facial expressions were then measured using DogFACS26 from the point of stimulus presentation \nuntil the consummatory phase of the behaviour commenced6. Frustration was defined as being induced by the  \n“[v]isualisation of a desired resource (toy, food, space) that is or becomes inaccessible. ”6. Dogs’ facial expressions \nwere then measured from the point when the subject attempted to access the resource for the first time and \nduring its subsequent denials6. The authors found that positive anticipation was characterized by a higher rate of \n“Lip wipe” (DogFACS26 Action Descriptor 37 = AD37; i.e. the dogs wiping their lips with the tongue, see26, www.\ndogfacs.com ) or “Nose lick” (AD137) and “Ears adductor” (DogFACS26 Ear Action Descriptor 102  = EAD102; i.e. \nthe ears move towards the midline of the head making the ear bases coming closer together, see26, www.dogfacs.\ncom ) relative to the control phase in which emotion-inducing stimuli were absent6. However, the authors could \nnot identify distinguishing facial indicators of frustration relative to their baseline.\nTherefore, the aim of the current study was to investigate dogs’ facial expressions of frustration and positive \nanticipation using DogFACS, in a controlled experimental setting unlike Caeiro et al . (2017)6. Furthermore, in \norder to maximize the potential to detect possible signals of importance, we standardised the dog breed (Labrador Retriever) to reduce the potential effects of morphological variation and extremes on the dogs’ facial expressions; we also used a non-social context in order to eliminate the risk of interference from previously learned attention getting responses. A high-value food reward was used as the triggering stimulus in two conditions – a positive \ncondition predicted to induce positive anticipation and a negative condition predicted to induce frustration in \ndogs (Table\xa0 1).\nDuring pre-training, dogs learned to approach an apparatus from which a food reward was delivered after \nfive seconds and could immediately be consumed. This procedure was also used in the subsequent testing trials (N = 15) to induce positive anticipation. In randomly interspersed trials of the negative condition (N = 5), the \nsubjects could see but not access the food for up to 55 seconds. For each subject, video samples from repeated \ntrials of both conditions were analysed by a blinded certified coder using DogFACS\n26. Based on the presence or \nabsence of selected DogFACS variables in the two conditions, we analysed whether facial expressions differed between the two conditions. A priori  hypotheses relating to potential DogFACS\n26 variables of interest were not \nspecified, as none have been identified previously.\nResults\nEleven DogFACS variables were used for the analysis, based on a prevalence of at least 10% across all samples of either the positive or negative condition and at least a substantial strength of intercoder agreement\n61 (see \nSupplementary Table\xa01).\nFirst, within conditions, binomial logistic regression models were used to test whether there was an effect of \nsample across the repeated samples within the positive and the negative condition, respectively. Models could be computed for all but three variables due to zero inflation: “Nose lick” (AD137) and “Panting” (AD126; both rare \nduring the positive condition), and “Ears adductor” (EAD102; rare during the negative condition). For all other \nvariables, results indicated that sample did not contribute significant information to explaining our data (Table\xa0 2). \nTherefore, we pooled the data of each condition to assess the effect of condition (positive/ negative) on the occur -\nrence of the eleven DogFACS variables.\nBetween the two conditions, binomial logistic regression models indicated that six of the eleven DogFACS \nvariables differed between the positive and the negative condition, based on the 95% confidence intervals not including zero (Table\xa0 3, Fig.\xa0 1). “Ears adductor” (EAD102) was the only variable that was more common in the \npositive condition while “Blink” (Action Unit 145 = AU145), “Lips part” (AU25), “Jaw drop” (AU26), “Nose lick” \n(AD137), and “Ears flattener” (EAD103) were more common in the negative condition.\nDiscussion\nUsing a within-subject design, this study explored facial expressions of dogs in two superficially similar con-ditions involving a food reward: (1.) positive: expectation of access to a high-value food reward (i.e. positive anticipation), and (2.) negative: denial of access to the food reward (i.e. frustration). As no validated measures of positive anticipation and frustration in dogs are available yet, the assumption of the\xa0underlying emotional state is based on criteria provided by the literature (e.g.\n4,6,45,46,48,49), specifying contextual features of situations in \nwhich the putative states of positive anticipation and frustration are induced. Two ear actions were found to differ between the two conditions, with activity in the “Ears adductor” (EAD102) being more common in the positive and “Ears flattener” (EAD103) in the negative condition. Furthermore, one eye action (“Blink”: AU145) and several mouth actions (“Jaw drop”: AU26, “Lips part”: AU25, “Nose lick”: AD137) were also more common in the ConditionPresumed \nvalenceAssumed emotional state Definition Trigger Experimental contexts\nPositive Positive Positive anticipationEmotion induced when access to a reward is expected;\n48,49 time interval \nbetween signal and arrival of a reward50.\nFoodExpectation of access to a high-value food reward.\nNegative Negative FrustrationEmotion induced through absence, delay or inaccessibility (through social or physical barriers) of an expected reward\n4,45.Denial of access to a high-value food reward, which is visible but not accessible through a perspex panel.\nTable 1. Condition, presumed valence, assumed emotional state, definition of the emotional state, trigger, and \nexperimental\xa0contexts used in the present study.', metadata={'source': './components/FacialExpressionsDogs.pdf', 'page': 2}), Document(page_content='4 Scientific  RepoRtS  |         (2019) 9:19312  | https://doi.org/10.1038/s41598-019-55714-6\nwww.nature.com/scientificreports www.nature.com/scientificreports/negative condition. The findings demonstrate for the first time that the two contrary states of positive anticipation \nand frustration are associated with different facial expressions in dogs.\nThe association of the “Ears adductor” (EAD102) action with the putative state of positive anticipation rep-\nlicates the result of Caeiro and colleagues (2017)6, enhancing the validity of the finding. Aural signals appear \nto be used often as part of the emotional display in animals6, but the affective semiotic content of ear postures \nand movements varies across species. Like dogs, silver foxes have more erect ears (resembling the action of the DogFACS “Ears adductor”: EAD102), when anticipating a positive reward\n58, and cats too have been shown to \nincrease “Ears adductor” activity in positive situations, i.e. when the animals were engaging with the environment in a relaxed manner\n62. In sheep, however, a movement akin to the “Ears adductor” (EAD102) action, has been \nlinked to negative emotional states63. Besides being considered as an indicator of emotional states, ear movement \nhas also been discussed as a cue of attentional state in animals with mobile ears64,65.\nIn contrast to Caeiro and colleagues (2017)6, who did not find specific facial features expressed by dogs during \nthe putative state of frustration compared to baseline, the present study indicates that at least within the context of food being withheld, distinct facial expressions were associated with frustration compared to positive antici-pation. This involved actions of the ears, mouth, and eye region. The “Ears flattener” (EAD103) occurred more often during the putative state of frustration. This caudal turning of the ears has been associated with negative \nemotional states in a range of other species (e.g. sheep\n63; goats66; pigs67; horses68,69: see70; cats62; but see cows19). \nIn canids, including the coyote, fox, and wolf, flattened ears are also observed in frightening situations71. In dogs, \nflattened ears are often considered to be part of a submissive display72–74 and interpreted as a sign of fear73,75. In \na study with silver foxes that were trained in a Pavlovian conditioning paradigm to associate a bell sound with \neither a predictable food reward (a piece of salmon), an unpredictable reward (food related: dog treats, cattle humerus, salmon; or not food related: tennis ball or wooden stick), or a negative predictable treatment (an aver -\nsive stimulus: being captured by grabbing the neck), flat and backwards rotated ears were seen when anticipating \nthe negative predictable treatment but also the positive unpredictable reward\n58. Thus, together with our own \nresults it seems that flattened ears are not only a sign of a fearful state, but also a frustrating one in canids. This DogFACS variablePOSITIVE condition NEGATIVE condition\nχ2dfP (Holm-Bonferroni \ncorrected) χ2dfP (Holm-Bonferroni corrected)\n1. Inner brow raiser (AU101) 1.82 2 0.402 (1) 1.09 5 0.955 (1)\n2. Blink (AU145) 0.41 2 0.814 (1) 5.90 5 0.316 (1)\n3. Lip corner puller (AU12) 0.70 2 0.703 (1) 4.03 5 0.546 (1)\n4. Lower lip depressor (AU116) 2.62 2 0.270 (1) 4.11 5 0.534 (1)\n5. Lips part (AU25) 1.77 2 0.414 (1) 3.32 5 0.651 (1)\n6. Jaw drop (AU26) 0.53 2 0.768 (1) 5.11 5 0.403 (1)\n7. Tongue show (AD19) 0.17 2 0.921 (1) 1.85 5 0.869 (1)\n8. Nose lick (AD137) # # # 0.87 5 0.972 (1)\n9. Ears adductor (EAD102) 1.72 2 0.423 (1) # # #\n10. Ears flattener (EAD103) 2.20 2 0.334 (1) 3.64 5 0.603 (1)\n11. Panting (AD126) # # # 7.75 5 0.171 (1)\nTable 2. Within condition analyses. Results of the binomial logistic regression models comparing multiple \nsamples within the positive and negative condition, respectively, for the eleven DogFACS variables (#: model \ncalculation not possible due to zero inflation).\nDogFACS variable χ2df Estimate SE z R2CIP (Holm-Bonferroni \ncorrected) 2.5% 97.5%\n1. Inner brow raiser (AU101) 0.13 1 −0.13 0.36 −0.35 0.19 −0.86 0.57 0.723 (1.000)\n2. Blink (AU145) 6.91 1 0.85 0.32 2.63 0.18 0.23 1.51 0.009 (0.051)\n3. Lip corner puller (AU12) 1.82 1 0.67 0.50 1.35 0.52 −0.28 1.69 0.177 (0.797)\n4. Lower lip depressor (AU116) 1.98 1 −0.70 0.50 −1.41 0.30 −1.70 0.28 0.159 (0.797)\n5. Lips part (AU25) 10.61 1 1.60 0.49 3.26 0.63 0.69 2.64 0.001 (0.01)\n6. Jaw drop (AU26) 12.58 1 1.68 0.47 3.55 0.59 0.80 2.67 <0.001(0.004)\n7. Tongue show (AD19) 1.28 1 0.61 0.54 1.13 0.65 −0.42 1.72 0.257 (0.797)\n8. Nose lick (AD137) 9.50 1 2.37 0.77 3.08 0.24 1.08 4.24 0.002 (0.014)\n9. Ears adductor (EAD102) 10.34 1 −1.79 0.56 −3.22 0.08 −2.97 −0.75 0.001 (0.01)\n10. Ears flattener (EAD103) 29.46 1 1.84 0.34 5.43 0.34 1.20 2.54 <0.001 (<0.001)\n11. Panting (AD126) 0.43 1 0.32 0.49 0.65 0.53 −0.63 1.31 0.513 (1.000)\nTable 3. Between condition analyses. Results of the binomial logistic regression models comparing the pooled \ndata of the positive and negative condition for the eleven DogFACS variables. Variables with bold letters\xa0differed \nbetween the two conditions, based on the 95% confidence interval not containing zero.', metadata={'source': './components/FacialExpressionsDogs.pdf', 'page': 3}), Document(page_content='5 Scientific  RepoRtS  |         (2019) 9:19312  | https://doi.org/10.1038/s41598-019-55714-6\nwww.nature.com/scientificreports www.nature.com/scientificreports/indicates that the action of the “Ears flattener” (EAD103) may be a more general indicator of states of negative \nvalence in dogs, rather than being associated with a distinct discrete emotion (i.e. fear or frustration). Future stud-ies should explore the extent to which the “Ears flattener” (EAD103) action is observed in dogs across different negatively valenced situations to determine the validity of this generalization.\nFuture work, evaluating different measures of the “Ears flattener” (EAD103) action (i.e. duration, frequency, \npresence/absence, transitions of actions) and finer details of ear movement might provide deeper insight into the differentiation of the specific negative states associated with this action. In a study on emotional expressions of cows, backwards ears were subclassified into “ears back up” and “ears back down” , and these two actions were differentially expressed in different emotional states\n19. Such a subclassification may also be done with the “Ears \nflattener” (EAD103) action expressed by dogs. However, the feasibility of coding this ear movement might differ depending on the dogs’ natural ear shape.\nFurthermore, animals with mobile ears can usually move both pinnae independently from each other, and \nasymmetrical ear movements have been reported in studies on emotional expressions in different animal species \n(e.g.\n19,63,70). Also in humans, facial asymmetry and laterality have been discussed in the context of emotional \nprocesses76,77. Thus, it may be of interest to measure bilateral postures and independent movements of the two \nears in dogs in order to identify asymmetries (differences between the two ears76) and lateralities (consistent \nasymmetries or biases for one ear76) in relation to different emotional states. Lateralized behaviours such as tail \nwagging or gazing in different emotional situations have already been observed in dogs35,78,79 (see for a review80). \nFor example, dogs’ tail wagging amplitude has been reported to have a bias towards the right side when facing the \nowner, an unfamiliar human, or a cat; whereas a left-side bias was observed when facing an unfamiliar conspe-cific or when being alone\n35. A bias for a head movement towards the left side was observed in dogs in response to \nbeing confronted with an alarming or threatening visual 2D stimulus (cat or snake)79. Whether asymmetrical ear \nmovements provide similar information on the emotional states of dogs has yet to be determined.\nAs in Caeiro et al . (2017)6, in the present study most facial expressions that differed between the positive and \nnegative condition were in the mouth area. However, there were some contradictory findings between the two studies. In addition to an increase in “Ears adductor” (EAD102) during positive anticipation (as in the current study), Caeiro and colleagues (2017)\n6 reported an increase in “Lip wipe” (AD37) and “Nose lick” (AD137). In \ncontrast, in the present study, “Nose lick” (AD137) was more common in the negative condition. This find-ing might reflect differences in the context of the two studies. The earlier study\n6, while it did not use overtly \naversive contexts, it did not control for reward delay to the same degree as here. Nose and lip licking are often considered to be appeasement signals in dogs that have been observed during interspecific (e.g. dog-human\n81,82) \nand intraspecific communication (e.g.83). Appeasement gestures are assumed to be displayed in potentially con-\nflicting social situations in order to reduce arousal in the sender or others84. However, empirical studies testing \nthe appeasing effect are rare (but see81,83). Increased frequencies of nose or lip licking have furthermore been \nreported in dogs in a frustration-provoking situation55, during more general states of increased arousal82, and \nduring stressful events (e.g.43, but see85). Although research on stress and emotion has often been separated86,87, \nthe two topics are associated88 and overlapping89. “When there is stress there are also emotions”\xa0(p. 35)86, thus, \nstress is more fully defined as a subset of emotional states87. It is perhaps most useful to consider stress as a general \nincrease in physiological arousal/demand associated with a salient stimulus, while the emotion depends on the perceived relationship between the individual and the stimulus (e.g. desirable, a barrier to something, a threat). Oftentimes, stress responses are measured in situations that are aversive in some way, meaning harmful, threaten-ing, or challenging\n86, and thus, very likely inducing negative emotional states89. In which case it is perhaps clearer \nto refer to this state as a form of “distress” , to distinguish it from an increase in cortisol which is simply indicative of anticipation of an increased demand, without a specific valence. Disentangling behavioural expressions of stress and emotion is challenging, since the two are not mutually exclusive; behaviours identified as indicators of a stressful state may also accompany different emotional states.\nIn the present study, two additional mouth behaviours differed between the positive and negative condition – \n“Jaw drop” (AU26) and “Lips part” (AD25) were both more common during the putative state of frustration. The \nFigure 1. DogFACS variables more common in (a) the positive and (b) the negative condition.', metadata={'source': './components/FacialExpressionsDogs.pdf', 'page': 4}), Document(page_content='6 Scientific  RepoRtS  |         (2019) 9:19312  | https://doi.org/10.1038/s41598-019-55714-6\nwww.nature.com/scientificreports www.nature.com/scientificreports/behaviours are usually not mutually exclusive and are commonly shown in combination with either each other or \nwith additional facial actions such as for instance with “Tongue show” (AD19), “Nose lick” (AD137), “Lip wipe” (AD37), or “Panting” (AD126). Although panting has been related to stressful events in dogs\n43,90, it was not more \ncommon in either state in the present study.\nThere were also differences in the eye area between the positive and negative condition, with “Blink” (AU145) \nbeing more common during the putative state of frustration. Variation in eyelid aperture is a common feature of many emotional displays, both during positive and negative emotional states (reviewed by\n5). Different variations \nof the eye area have been identified as emotional indicators, for instance eye wrinkles are associated with certain negative emotional states in horses\n51 and increased visibility of the white of the eyes is associated with frustration \nin cows22. Blinking in particular has been associated with fear in cats62. In dogs, blinking seems to have been \nconsidered as an appeasement signal37,41, although not specifically tested for this function. The present study, \nhowever, provides evidence of a specific association between blinking in dogs with a state of frustration, which may be a precondition for appeasement.\nThe lack of a baseline measure for every tested individual in the present study means that the significant facial \nactions allow us to differentiate the positive and the negative condition and not specifically characterise frustra-\ntion and positive anticipation. However, the replication of the finding of Caeiro et al . (2017)\n6 for positive anticipa-\ntion relative to their baseline, and similarity of the identified expressions during the frustration condition to more \ngeneral observations of signals potentially associated with negative emotional states, stress and arousal (e.g.6,42,43), \nas discussed above, indicate that the measures we found are indeed important in the characterisation of positive anticipation and frustration, respectively. However, we agree with Caeiro and colleagues (2017)\n6 that we must \nalso consider the possibility that expressions of frustration may have a degree of context-specificity. Certainly, in relation to the behavioural tendencies shown at this time, these can be expected to vary with their context-specific goal\n46,91 and it is possible that the facial signals may vary depending on the social target of any communication42. \nFuture studies will need to systematically vary contextual features of situations thought to induce frustration and positive anticipation (e.g. by using different emotion-triggering stimuli to food such as toys) to identify common denominators across comparable contexts for each emotional state.\nSince facial expressions could potentially be affected by morphological differences\n6, only one breed without \nmorphological extremes, the Labrador Retriever, was tested in the present study. However by doing this, it might be argued that the generalizability of our results is limited. In order to assess the external validity of the present findings, it would be valuable to test a larger range of dog breeds in a future study. However, we assume that gen-eralizability of our findings to different dog breeds and mixes is likely in view of the finding\n6 that there does not \nappear to be any significant differences in the production of selected DogFACS actions between different cephalic types, ear shapes, and breeds. Only jowl length was reported to have an effect on the production of one action unit (i.e. “Upper lip raiser”: AU110)\n6, which is, however, not one of the facial indicators identified as emotional \nindicator in the present study.\nAlthough facial expressions have been discussed as promising indicators of emotional states, it is important \nto consider them as part of only one of the components in the multifaceted response associated with emotional reactions\n6. Not only is it necessary to consider other components, such as behavioural tendencies and arousal lev-\nels, but also other modalities of emotional communication such as vocalizations, body expressions, and olfactory cues. Nonetheless our results demonstrate how close attention to facial detail can be used to help differentiate emotional states of different valence within a single carefully controlled context.\nMethods\nEthical consideration.  The experiment was approved by the College of Science Research Ethics Committee, \nUniversity of Lincoln (UK) (UID CoSREC304) and complies with the “Guidelines for the Treatment of Animals in Behavioural Research and Teaching” of the Association for the Study of Animal Behavior (ASAB).\nSubjects. To reduce effects of morphological variation, 29 subjects of one breed without extreme facial fea-\ntures (Labrador Retriever) were tested (19 females – 13 neutered, 10 males – 9 neutered; age range: 2–9.5 years, mean age = 5.22 years). The sample size was determined based on two previous studies investigating dogs’ facial \nexpressions using DogFACS (\n26: N = 29, 44: N = 24). Owners gave their written informed consent prior to the \nstudy.\nExperimental set-up.  The dogs were tested in a room measuring 7.50 × 4.00 m at the Riseholme Campus of \nthe University of Lincoln (UK). The experimental set-up (Figs.\xa0 2 and 3 ) consisted of a 1.80 × 1.80 m wide wooden \nwall with an opening in the middle (50 cm from the floor), leading to a goal box attached on the reverse side of the \nwall. The experimenter, sitting to the left and out of sight of the dog behind the wooden wall, placed the food into the goal box. A removable transparent perspex panel prevented the dogs from accessing the item in the goal box \nstraight away. When the experimenter slid the perspex sideways, the dog could access the item placed inside the \ngoal box. To block the dog’s view of the goal box between trials, a movable opaque panel was used. A semicircle with a radius of 0.90 m was marked on the floor in front of the wooden wall (subsequently called “goal area”), \nwhich was a relevant measure of distance between the dog and the goal box. The dog’s (and owner’s) starting point was 2.60 m from the wooden wall (Fig.\xa0 3). The owner was sitting on a chair, wearing sunglasses to prevent inad-\nvertent cueing. Owners were instructed to ignore the dog except when they were signalled to put on or remove the leash. A camera in the goal box was used to record dogs’ facial expressions during the experiment (camera: HIKVision, IR Mini Bullet Network Camera. Recorder: HIKVision, DS-7600 Series).', metadata={'source': './components/FacialExpressionsDogs.pdf', 'page': 5}), Document(page_content='7 Scientific  RepoRtS  |         (2019) 9:19312  | https://doi.org/10.1038/s41598-019-55714-6\nwww.nature.com/scientificreports www.nature.com/scientificreports/Experimental design. The experiment was separated into four steps: (1) Baseline, (2) Training I - Establishment \nof food anticipation, (3) Training II - Consolidation of food anticipation, (4) Testing. Each step was conducted in \na separate experimental session with an inter-session interval of at least one day (on average 9.1 days).\nStep 1: Baseline.  Habituation . Initially, owner, dog, and experimenter went into the experimental room \nand approached the open and empty goal box. The experimenter encouraged the dog to investigate the goal box and repeatedly opened and closed both panels to habituate the dog to the mechanism. Afterwards, dog and owner waited briefly in the adjacent room while the experimenter hid behind the apparatus, where she stayed through-out the experiment, invisible to the dog. The dog and the owner then re-entered the experimental room. The \nowner sat down on the chair and removed the dog’s leash and collar; the dog was allowed to freely move around \nuntil it showed signs of relaxation (e.g. calmly exploring the room or interacting with the owner, taking up a resting position, etc.) or after a maximum of 5 min. After the habituation phase, the Baseline session commenced.\nBaseline session. Originally, we aimed to collect baseline measures of each dog’s facial expressions in a sit -\nuation in which the individuals showed interest but without a strong emotional connotation. For this aim, a habituation-dishabituation procedure was used with novel objects (different assortments of duplo bricks, assumed to be of neutral valence to the dogs) presented in the goal box. The majority of dogs, however, showed signs of high arousal and possibly distress in this context (e.g. jumping at the owner, biting into the leash, avoiding to approach the goal box, etc.), and they did not face the goal box long enough to sample video clips for the subse-quent video analysis. Therefore, this session was stopped and we only analysed positive and negative trials of the Testing session (Step 4) for every subject.\nStep 2: Training I - Establishment of food anticipation.  Dogs were trained in repeated trials of the \npositive condition (subsequently labelled as “positive trials”) to expect a high-quality food reward (one piece each of a slice of boiled chicken and sausage) in the goal box. Motivation to consume the food was tested at the begin-ning of the session outside the experimental room by giving the dog one piece of both food types to eat. As in the Baseline session, the owner entered the experimental room with the leashed dog and sat down on the chair while \nthe experimenter stayed behind the apparatus. Each trial started with a pre-trial phase (i.e. inter-trial interval; \nduration: 30 s) in which the dog was on leash near the owner and the opening of the goal box was blocked by the \nopaque panel. After 30 s, the experimenter signalled the beginning of the trial to the owner via a visual cue. In \ntrials 1–5, in response to this cue, the owner walked the leashed dog to the margin of the goal area, removed the leash and collar, and gave a verbal and visual (hand signal) release cue. Afterwards, the owner remained stand-ing and ignored the dog. From trial 6 on, in response to the experimenter’s cue, the owner remained sitting and immediately unleashed the dog, followed by the visual and verbal release cue. This allowed us to assess whether the dogs approached the goal area on their own, providing information about their state of training regarding the \nFigure 2. Experimental apparatus and goal area with measures. For improved visibility, the opaque panel (red) \nand the perspex (yellow) were coloured for this figure.', metadata={'source': './components/FacialExpressionsDogs.pdf', 'page': 6}), Document(page_content='8 Scientific  RepoRtS  |         (2019) 9:19312  | https://doi.org/10.1038/s41598-019-55714-6\nwww.nature.com/scientificreports www.nature.com/scientificreports/association of the goal box with the expected food reward as well as about their motivation to obtain the reward \nin the goal box.\nIn each trial, as soon as the dog entered the goal area with at least one forepaw, the opaque panel was removed \n(i.e. start of the anticipation phase), but the perspex still blocked the opening. After 5 s, the experimenter \nplaced the food reward into the goal box using a long spoon in order to reduce visibility of a human body part. \nImmediately afterwards, the experimenter (still invisible for the dog) slid the perspex sideways from behind the \nwooden wall. Then the dog could access and eat the reward. The anticipation phase was set at 5 s as it allowed us \nto record the dogs’ facial expressions over several seconds while keeping the latency until the reward could be accessed short to avoid frustration. After the dog had consumed the reward, both panels were repositioned again so that the opening was blocked. A visual cue by the experimenter indicated to the owner to leash the dog and, in trials 1–5, to walk back to the chair. If the dog did not enter the goal area within 60 s after the release com-\nmand (i.e. “no-response”), the experimenter signalled the owner to leash the dog and a new trial commenced. A “no-response” never occurred in trials 1–5 with any dog, as dogs were guided on lead to the goal area by the owner. From trial 6 onwards, only one dog showed a “no-response” in four trials.\nIn order to proceed to experimental Step 3, dogs were required to reach a predetermined learning criterion. \nTherefore, we evaluated the dog’s response to the release\xa0cue from trial 6 onwards\xa0where\xa0the owner remained sitting on the chair and the dog could approach the goal area\xa0alone. The criterion was that in five consecutive trials, the dog approached the goal area immediately after the release cue\xa0and remained focused on the goal box until the food reward was dispensed. Based on this criterion, the number of trials each dog received in this step was variable (mean number of trials = 14.20). The minimal number of trials to reach the predetermined learning \ncriterion was 10, i.e. the five trials (trial 1–5) in which the owner was accompanying the dog to the goal area (as described above, for these trials the dog’s response to the release cue was not evaluated)\xa0and the five subsequent evaluated\xa0trials (trial 6–10) in which the dog could approach the goal area\xa0on its own. Six dogs that required more \nthan the minimal amount of training trials still reached the required learning criterion in the first training session. \nThe maximum number of trials per training session was 20. If a dog did not reach the required criterion by this time, another Step 2 session was repeated on a different day, following the same procedure. This was required for four subjects (the inter-session interval between these two training sessions was at least one day, and on average 12.5 days).\nStep 3: Training II - Consolidation of food anticipation. In this session, 20 positive trials were con -\nducted using the same procedure as from trial 6 onwards in Step 2, with the owner remaining sitting on the chair.\nStep 4: Testing. In the last session, 15 positive trials were conducted using the same procedure as in the \nprevious session. Additionally, the dogs were intermittently confronted with five trials of the negative condition in which access to the food reward was blocked (subsequently labelled “negative trials”).\nThis session always started with five positive trials. The following 15 trials included the five negative trials \nrandomly interspersed (i.e. 75% positive and 25% negative trials overall). Once in this session two negative trials \nwere scheduled to occur consecutively; but exactly when this occurred in the session was random.\nIn the negative trials, the opaque panel was removed when the dog entered the goal area with at least one \nforepaw and the food reward was placed into the goal box 5 s later, as in the positive trial. However, the perspex \nwas not removed; thus, the dogs were able to see, but not access the food (i.e. start of the frustration phase). The \nnegative trial was ended when the dog had left the goal area and did not re-enter for 15 s, or 55 s after the food \nwas put into the goal box if the dog did not leave the goal area for more than 15 s. When the dog did not approach \nthe goal area at all during a positive or negative trial (i.e. “no-response”), this trial was ended 60 s after the release \nFigure 3. Experimental arena with dog and owner in the starting position. The experimenter remained hidden \nbehind the wooden wall throughout the experiment.', metadata={'source': './components/FacialExpressionsDogs.pdf', 'page': 7}), Document(page_content='9 Scientific  RepoRtS  |         (2019) 9:19312  | https://doi.org/10.1038/s41598-019-55714-6\nwww.nature.com/scientificreports www.nature.com/scientificreports/command. The opaque panel was then returned and the experimenter signalled the owner to leash the dog again. \nThis occurred with four dogs in 15 positive trials overall (of which 8 were directly following a negative trial) and with three dogs in three negative trials overall.\nVideo sample preparation. For the subsequent DogFACS coding, video samples of 3 s length each were cut \nusing Avidemux software (version 2.6.1). For each subject, video samples were prepared using three anticipation and three frustration phases from five pre-determined Testing trials (Step 4): the positive trial preceding the first negative trial (labelled “P”); the first negative trial (labelled “N”); the positive trial following the first negative trial (labelled “NP”); the first and second of the two consecutive negative trials (labelled “PNN” and “NN” , respec-\ntively). From the anticipation phase of trials P , N, and NP , one positive sample each was cut (Fig.\xa0 4). From the \nfrustration phase of trials N, PNN and NN, two negative samples each were cut due to the longer duration of the \nnegative compared to the positive trial (Fig.\xa0 4).\nGeneral eligibility criteria were that for the duration of the sample, dogs must be within the goal area with at \nleast one forepaw and the face must be visible with the goal box camera for at least 2 s. Positive samples started 1 s \nafter the onset of the anticipation phase to minimise possible distractions such as the movement of the panels. For each negative sample, the starting point within the 55 s (max.) frustration phase was randomly selected (using \nthe R random number generator, function ‘sample’ , repetitions excluded) within the limit that the first 10 s of each \nfrustration phase were excluded, as the onset of frustration might not immediately occur. If the general eligibility \ncriteria were not met for the duration of the negative sample, another random number was generated. Overall, \n248 video samples meeting the eligibility criteria were prepared (for 13 samples the eligibility criteria were not met).\nOutcome measures. The video samples were coded based on the DogFACS manual26 (www.dogfacs.com) \nby a certified DogFACS coder (N.A.S.). All Upper and Lower Face Action Units (Action Unit = AU, i.e. muscu-\nlar basis of the movement is known), all Action Descriptors (Action Descriptor = AD, i.e. muscular basis of the \nmovement is not known), all Ear Action Descriptors (Ear Action Descriptor = EAD), and “Panting” as AD from \nthe Gross Behaviour Codes were coded as present or absent in the 3 s samples (see Table\xa0 4 for an overview of the \nrelevant DogFACS variables and Fig.\xa0 5 for a description of relevant anatomical directional terms). Videos were \nrandomly renamed and the order of video samples was randomized (using the software Ant Renamer version 2.12) so that the coder was blind to the condition. The neutral ear position of our target breed was determined by collecting images of sleeping Labradors, as suggested in the DogFACS\n26 manual, as well from four subjects in the \nbaseline session of this experiment that did not show any arousal behaviours (e.g. tail wagging, panting, lip lick-ing) for 2 s before and 2 s after the second in which the image was taken. Coding was performed using Solomon \nCoder (version 15.03.15, Andràs Péter). Only DogFACS\n26 variables with a prevalence above 10% in at least one \nof either all positive or all negative video samples were used for subsequent analysis (see Table\xa0 4 for the variables \nmeeting this criterion). We assessed the prevalence separately for the positive and negative trials to avoid exclud-ing variables that primarily occurred only in one of both conditions.\nAnalyses. Intercoder reliability. Intercoder reliability analysis was performed in RStudio 1.0.153 (func-\ntion:\xa0cohen.kappa; package: psych92). For 25 randomly selected samples (> 10% of all samples, selected by \nFigure 4. The three anticipation and three frustration phases of the five predetermined Testing trials (P , N, NP , \nPNN, NN) with time intervals used for the video sample preparation for the subsequent DogFACS coding.', metadata={'source': './components/FacialExpressionsDogs.pdf', 'page': 8}), Document(page_content='10 Scientific  RepoRtS  |         (2019) 9:19312  | https://doi.org/10.1038/s41598-019-55714-6\nwww.nature.com/scientificreports www.nature.com/scientificreports/using the R random number generator, function ‘sample’ , repetitions excluded), all DogFACS26 variables with a \nprevalence above 10% in either all positive or all negative samples were coded by a second certified DogFACS26 \ncoder (A.B.). Except for three variables (“Nose wrinkler & Upper lip raiser”: AU109 + 110; “Upper lip raiser”: \nAU110; “Ears forward”: EAD101), all variables had at least a substantial strength of intercoder agreement61 \n(Supplementary Table\xa01). Accordingly, eleven variables (“Inner brow raiser”: AU101; “Blink”: AU145; “Lip corner \npuller”: AU12; “Lower lip depressor”: AU116; “Lips part”: AU25; “Jaw drop”: AU26; “Tongue show”: AD19; “Nose lick”: AD137; “Ears adductor”: EAD102; “Ears flattener”: EAD103; “Panting”: AD126) were used for the final analyses (Tables\xa0 2 and 3).Category AU/AD/EAD Number Variable name Definition *\nUpper Face Action \nUnits\nAU101 Inner brow raiserProtuberance above the eye moves dorsally and obliquely towards the midline.\n143 Eye closureBoth eyelids move towards and touch each other, covering the eye for at least 0.5 s.\n145 BlinkBoth eyelids move towards and touch each other, covering the eye for less than 0.5 s.\nLower Face Action \nUnits109 + 110(Nose wrinkler & \nUpper lip raiser)**Nose and upper lip move dorsally and wrinkles appear on the dorsal muzzle part.\n110 (Upper lip raiser)** Upper lip moves dorsally.\n12 Lip corner puller Lip corners move caudally.\n116 Lower lip depressor Lower lip moves ventrally.\n118 Lip pucker Lip corners move rostrally.\n25 Lips part Any lip separation.\n26 Jaw dropLower jaw moves ventrally in a relaxed manner (i.e. absence of tension signs) and teeth are separated.\n27 Mouth stretchLower jaw moves ventrally in an actively stretching manner and teeth are separated; lower teeth, tongue and oral cavity are visible.\nAction Descriptors\nAD19 Tongue show Tongue is protruded at least until the inner lower lip.\n33 Blow Lips expand due to air being expelled from the mouth.\n35 Suck Upper lip is sucked into the mouth.\n37 Lip wipeTongue moves on the outer part of the upper lips from the midline of the mouth to one corner.\n137 Nose lick Tongue moves out of the mouth towards the nose and wipes it.\nGross Behaviour 126 PantingMouth is open (AU26), tongue is protruded (AD19), and dog breathes shortly and quickly.\nEar Action DescriptorsEAD101 (Ears forward)** Ears move rostrally.\n102 Ears adductorEars move dorsally towards the midline of the head; bases of both ears come closer together.\n103 Ears flattener Ears move caudally.\n104 Ears rotator Ears move laterally and externally.\n105 Ears downward Ears move ventrally.\nTable 4. DogFACS26 variables used as outcome measures in this study\xa0(AU = Action Unit; AD = Action \nDescriptor; EAD = Ear Action Descriptor). DogFACS26 variables\xa0with bold letters occurred with a prevalence \nof at least 10% in either all positive or all negative samples. *Definitions were obtained from the DogFACS \nmanual26 (www.dogfacs.com) and were partly adapted for this Table. **DogFACS26 variables in brackets were \nexcluded from the analysis as the strength of the intercoder reliability was below a substantial agreement61.\nFigure 5. Directional terms used for the definition of the DogFACS26 variables in Table\xa0 4.', metadata={'source': './components/FacialExpressionsDogs.pdf', 'page': 9}), Document(page_content='11 Scientific  RepoRtS  |         (2019) 9:19312  | https://doi.org/10.1038/s41598-019-55714-6\nwww.nature.com/scientificreports www.nature.com/scientificreports/Statistical analyses. Statistical analyses were performed in RStudio 1.0.153. Our first aim was to assess whether \nthere were any differences in facial expressions in repeated samples of the same condition (i.e. all positive samples \nor all negative samples, respectively), with the preceding trial being either of the same or the other condition. For this aim, binomial mixed effect models were calculated (function: glmer; package: lme4\n93) separately for the \ndata of all coded positive and negative samples. The eleven selected DogFACS variables (see Tables\xa0 2 and 3) were \nused as response variables, sample was used as a predictor variable (samples of the positive condition were from the anticipation phase of trials P , N, NP . Samples of the negative condition included the two each from trials N, PNN, NN), and subject ID was used as a random effect. As there was no indication that inclusion of sample as \na predictor variable added significant information to explaining our data, we pooled the data of all positive and \nof all negative samples, respectively. In order to assess which facial expressions differed between the positive and negative condition, we calculated binomial mixed effect models with the eleven DogFACS variables as response variables, condition (positive/\xa0negative) as a predictor variable and subject ID as a random effect. Subject sex and age were used as blocking factors. To control for type-I-errors, the Holm-Bonferroni method was applied to correct for multiple hypotheses testing.\nData availability\nThe dataset generated and analysed during the current study is available from the corresponding author on reasonable request.\nReceived: 12 July 2019; Accepted: 29 November 2019;\nPublished: xx xx xxxx\nReferences\n 1. Désiré, L., Boissy, A. & Veissier, I. Emotions in farm animals: A new approach to animal welfare in applied ethology. Behav. Processes  \n60, 165–180 (2002).\n 2. Mendl, M., Burman, O. H. P . & Paul, E. S. An integrative and functional framework for the study of animal emotion and mood. Proc. \nBiol. Sci. 277, 2895–2904 (2010).\n 3. Russell, J. A. Core affect and the psychological construction of emotion. Psychol. Rev. 110, 145–172 (2003).\n 4. Panksepp, J. Affective consciousness: Core emotional feelings in animals and humans. Conscious. Cogn. 14, 30–80 (2005).\n 5. Descovich, K. et al . Facial expression: An under-utilised tool for the assessment of welfare in mammals. ALTEX 1–21 https://doi.\norg/10.14573/altex.1607161 (2017).\n 6. Caeiro, C. C., Guo, K. & Mills, D. S. Dogs and humans respond to emotionally competent stimuli by producing different facial actions. Sci. Rep. 7, 15525 (2017).\n 7. Scherer, K. R. What are emotions? And how can they be measured? Soc. Sci. Inf. 44, 695–729 (2005).\n 8. Anderson, D. J. & Adolphs, R. A framework for studying emotions across species. Cell  157, 187–200 (2014).\n 9. Hall, C., Randle, H., Pearson, G., Preshaw, L. & Waran, N. Assessing equine emotional state. Appl. Anim. Behav. Sci. 205, 183–193 \n(2018).\n 10. Ekman, P ., Friesen, W . V . & Ancoli, S. Facial signs of emotional experience. J. Pers. Soc. Psychol. 39, 1125–1134 (1980).\n 11. Lilley, C. M., Craig, K. D. & Grunau, R. E. The expression of pain in infants and toddlers: Developmental changes in facial action. \nPain  72, 161–170 (1997).\n 12. Scherer, K. R., Mortillaro, M. & Mehu, M. Understanding the mechanisms underlying the production of facial expression of \nemotion: A componential perspective. Emot. Rev.  5, 47–53 (2013).\n 13. Elfenbein, H. A. Nonverbal dialects and accents in facial expressions of emotion. Emot. Rev.  5, 90–96 (2013).\n 14. Adolphs, R. Recognizing emotion from facial expressions: Psychological and neurological mechanisms. Behav. Cogn. Neurosci. Rev. \n1, 21–62 (2002).\n 15. Waller, B. M. & Micheletta, J. Facial expression in nonhuman animals. Emot. Rev.  5, 54–59 (2013).\n 16. Diogo, R., Wood, B. A., Aziz, M. A. & Burrows, A. On the origin, homologies and evolution of primate facial muscles, with a particular focus on hominoids and a suggested unifying nomenclature for the facial muscles of the Mammalia. J. Anat.  215, 300–319 \n(2009).\n 17. Tate, A. J., Fischer, H., Leigh, A. E. & Kendrick, K. M. Behavioural and neurophysiological evidence for face identity and face emotion processing in animals. Philos. Trans. R. Soc. Lond. B. Biol. Sci. 361, 2155–2172 (2006).\n 18. Reefmann, N., Wechsler, B. & Gygax, L. Behavioural and physiological assessment of positive and negative emotion in sheep. Anim. Behav.  78, 651–659 (2009).\n 19. De Oliveira, D. & Keeling, L. J. Routine activities and emotion in the life of dairy cows: Integrating body language into an affective \nstate framework. PLoS One 13, e0195674 (2018).\n 20. Finlayson, K., Lampe, J. F., Hintze, S., Würbel, H. & Melotti, L. Facial indicators of positive emotions in rats. PLoS One 11, e0166446 \n(2016).\n 21. Finka, L. R. et al. Geometric morphometrics for the study of facial expressions in non-human animals, using the domestic cat as an \nexemplar. Sci. Rep. 9, 9883 (2019).\n 22. Sandem, A. I., Braastad, B. O. & Bøe, K. E. Eye white may indicate emotional state on a frustration-contentedness axis in dairy cows. \nAppl. Anim. Behav. Sci. 79, 1–10 (2002).\n 23. Ekman, P ., Friesen, W . & Hager, J. Facial Action Coding System (FACS): Manual. (Research Nexus, (2002).\n 24. Ekman, P . & Friesen, W . V . Facial Action Coding System. (Consulting Psychology Press, (1978).\n 25. Parr, L. A., Waller, B. M., Vick, S. J. & Bard, K. A. Classifying chimpanzee facial expressions using muscle action. Emotion  7, 172–181 \n(2007).\n 26. Waller, B. M. et al . Paedomorphic facial expressions give dogs a selective advantage. PLoS One 8, e82686 (2013).\n 27. Cohn, J. F., Ambadar, Z. & Ekman, P . Observer-based measurement of facial expression with the Facial Action Coding System. In \nThe Handbook of Emotion Elicitation and Assessment (eds. Coan, J. A. & Allen, J. J. B.) 203–221 (Oxford University Press, https://doi.\norg/10.1007/978-3-540-72348-6_1 (2007).\n 28. Waller, B. M., Lembeck, M., Kuchenbuch, P ., Burrows, A. M. & Liebal, K. GibbonFACS: A muscle-based facial movement coding system for hylobatids. Int. J. Primatol. 33, 809–821 (2012).\n 29. Kujala, M. V . Canine emotions as seen through human social cognition. Anim. Sentience An Interdiscip. J. Anim. Feel. 14, 1 (2017).\n 30. Zentall, T. R. The study of emotion in animals. Anim. Sentience An Interdiscip. J. Anim. Feel. 14, 3 (2017).\n 31. Miklósi, Á., Topál, J. & Csányi, V . Comparative social cognition: what can dogs teach us? Anim. Behav. 67, 995–1004 (2004).\n 32. McGreevy, P . D., Starling, M., Branson, N. J., Cobb, M. L. & Calnon, D. An overview of the dog-human dyad and ethograms within \nit. J. Vet. Behav. Clin. Appl. Res. 7, 103–117 (2012).\n', metadata={'source': './components/FacialExpressionsDogs.pdf', 'page': 10}), Document(page_content='12 Scientific  RepoRtS  |         (2019) 9:19312  | https://doi.org/10.1038/s41598-019-55714-6\nwww.nature.com/scientificreports www.nature.com/scientificreports/ 33. Kaminski, J., Waller, B. M., Diogo, R., Hartstone-Rose, A. & Burrows, A. M. Evolution of facial muscle anatomy in dogs. PNAS  116, \n14677–14681 (2019).\n 34. Faragó, T., Pongrácz, P ., Range, F., Virányi, Z. & Miklósi, Á. ‘The bone is mine’: affective and referential aspects of dog growls. Anim. \nBehav.  79, 917–925 (2010).\n 35. Quaranta, A., Siniscalchi, M. & Vallortigara, G. Asymmetric tail-wagging responses by dogs to different emotive stimuli. Curr. Biol. \n17, 199–201 (2007).\n 36. Jakovcevic, A., Elgier, A. M., Mustaca, A. E. & Bentosela, M. Frustration behaviors in domestic dogs. J. Appl. Anim. Welf. Sci. 16, \n19–34 (2013).\n 37. Kuhne, F., Hößler, J. C. & Struwe, R. Effects of human-dog familiarity on dogs’ behavioural responses to petting. Appl. Anim. Behav. \nSci. 142, 176–181 (2012).\n 38. McGowan, R. T. S., Rehn, T., Norling, Y . & Keeling, L. J. Positive affect and learning: exploring the ‘Eureka Effect’ in dogs. Anim. \nCogn. 17, 577–587 (2014).\n 39. Stellato, A. C., Flint, H. E., Widowski, T. M., Serpell, J. A. & Niel, L. Assessment of fear-related behaviours displayed by companion \ndogs (Canis familiaris) in response to social and non-social stimuli. Appl. Anim. Behav. Sci. 188, 84–90 (2017).\n 40. Flint, H. E., Coe, J. B., Serpell, J. A., Pearl, D. L. & Niel, L. Identification of fear behaviors shown by puppies in response to nonsocial stimuli. J. Vet. Behav.  28, 17–24 (2018).\n 41. Siniscalchi, M., D’Ingeo, S., Minunno, M. & Quaranta, A. Communication in Dogs. Animals  8, 131 (2018).\n 42. Albuquerque, N., Guo, K., Wilkinson, A., Resende, B. & Mills, D. S. Mouth-licking by dogs as a response to emotional stimuli. Behav. Processes  146, 42–45 (2018).\n 43. Beerda, B., Schilder, M. B. H., Van Hooff, J. A. R. A. M. & De Vries, H. W . Manifestations of chronic and acute stress in dogs. Appl. \nAnim. Behav. Sci. 52, 307–319 (1997).\n 44. Kaminski, J., Hynds, J., Morris, P . & Waller, B. M. Human attention affects facial expressions in domestic dogs. Sci. Rep. 7, 12914 \n(2017).\n 45. Amsel, A. The role of frustrative nonreward in noncontinuous reward situations. Psychol. Bull. 55, 102–119 (1958).\n 46. McPeake, K. J., Collins, L. M., Zulch, H. & Mills, D. S. The Canine Frustration Questionnaire—Development of a new psychometric \ntool for measuring frustration in domestic dogs (Canis familiaris). Front. Vet. Sci. 6, 152 (2019).\n 47. Ellis, S. L. H., Riemer, S., Thompson, H. & Burman, O. H. P . Assessing the external validity of successive negative contrast-implications for animal welfare. J. Appl. Anim. Welf. Sci. 1–8 https://doi.org/10.1080/10888705.2019.1572509 (2019).\n 48. Van Den Bos, R., Meijer, M. K., Van Renselaar, J. P ., Van der Harst, J. E. & Spruijt, B. M. Anticipation is differently expressed in rats \n(Rattus norvegicus) and domestic cats (Felis silvestris catus) in the same Pavlovian conditioning paradigm. Behav. Brain Res.  141, \n83–89 (2003).\n 49. Spruijt, B. M., Van Den Bos, R. & Pijlman, F. T. A. A concept of welfare based on reward evaluating mechanisms in the brain: anticipatory behaviour as an indicator for the state of reward systems. Appl. Anim. Behav. Sci. 72, 145–171 (2001).\n 50. Boissy, A. et al. Assessment of positive emotions in animals to improve their welfare. Physiol. Behav. 92, 375–397 (2007).\n 51. Hintze, S., Smith, S., Patt, A., Bachmann, I. & Würbel, H. Are eyes a mirror of the soul? What eye wrinkles reveal about a horse’s emotional state. PLoS One 11, e0164017 (2016).\n 52. Peters, S. M., Bleijenberg, E. H., van Dierendonck, M. C., van der Harst, J. E. & Spruijt, B. M. Characterization of anticipatory \nbehaviour in domesticated horses (Equus caballus). Appl. Anim. Behav. Sci. 138, 60–69 (2012).\n 53. Gygax, L., Reefmann, N., Wolf, M. & Langbein, J. Prefrontal cortex activity, sympatho-vagal reaction and behaviour distinguish between situations of feed reward and frustration in dwarf goats. Behav. Brain Res.  239, 104–114 (2013).\n 54. Bentosela, M., Barrera, G., Jakovcevic, A., Elgier, A. M. & Mustaca, A. E. Effect of reinforcement, reinforcer omission and extinction \non a communicative response in domestic dogs (Canis familiaris). Behav. Processes  78, 464–469 (2008).\n 55. Kuhne, F. Behavioural responses of dogs to dog-human social conflict situations. Appl. Anim. Behav. Sci. 182, 38–43 (2016).\n 56. Van Der Harst, J. E. E., Fermont, P . C. J. C. J., Bilstra, A. E. E. & Spruijt, B. M. M. Access to enriched housing is rewarding to rats as reflected by their anticipatory behaviour. Anim. Behav. 66, 493–504 (2003).\n 57. Dudink, S., Simonse, H., Marks, I., de Jonge, F. H. & Spruijt, B. M. Announcing the arrival of enrichment increases play behaviour \nand reduces weaning-stress-induced behaviours of piglets directly after weaning. Appl. Anim. Behav. Sci. 101, 86–101 (2006).\n 58. Moe, R. O., Bakken, M., Kittilsen, S., Kingsley-Smith, H. & Spruijt, B. M. A note on reward-related behaviour and emotional expressions in farmed silver foxes (Vulpes vulpes)—Basis for a novel tool to study animal welfare. Appl. Anim. Behav. Sci. 101, \n362–368 (2006).\n 59. Zimmerman, P . H., Buijs, S. A. F., Bolhuis, J. E. & Keeling, L. J. Behaviour of domestic fowl in anticipation of positive and negative stimuli. Anim. Behav. 81, 569–577 (2011).\n 60. Riemer, S., Thompson, H. & Burman, O. H. P . Behavioural responses to unexpected changes in reward quality. Sci. Rep. 8, 16652 \n(2018).\n 61. Landis, J. R. & Koch, G. G. The measurement of observer agreement for categorical data. Biometrics  33, 159–174 (1977).\n 62. Bennett, V ., Gourkow, N. & Mills, D. S. Facial correlates of emotional behaviour in the domestic cat (Felis catus). Behav. Processes  \n141, 342–350 (2017).\n 63. Boissy, A. et al. Cognitive sciences to relate ear postures to emotions in sheep. Anim. Welf. 20, 47–56 (2011).\n 64. Wathan, J. & McComb, K. The eyes and ears are visual indicators of attention in domestic horses. Curr. Biol. 24, R677–R679 (2014).\n 65. Reefmann, N., Bütikofer Kaszàs, F., Wechsler, B. & Gygax, L. Ear and tail postures as indicators of emotional valence in sheep. Appl. Anim. Behav. Sci. 118, 199–207 (2009).\n 66. Briefer, E. F., Tettamanti, F. & McElligott, A. G. Emotions in goats: Mapping physiological, behavioural and vocal profiles. Anim. \nBehav.  99, 131–143 (2015).\n 67. Reimert, I., Bolhuis, J. E., Kemp, B. & Rodenburg, T. B. Indicators of positive and negative emotions and emotional contagion in pigs. \nPhysiol. Behav. 109, 42–50 (2013).\n 68. Kaiser, L., Heleski, C. R., Siegford, J. & Smith, K. A. Stress-related behaviors among horses used in a therapeutic riding program. J. Am. Vet. Med. Assoc. 228, 39–45 (2006).\n 69. Gleerup, K. B., Forkman, B., Lindegaard, C. & Andersen, P . H. An equine pain face. Vet. Anaesth. Analg.  42, 103–114 (2015).\n 70. Wathan, J., Proops, L., Grounds, K. & McComb, K. Horses discriminate between facial expressions of conspecifics. Sci. Rep. 6, 38322 \n(2016).\n 71. Fox, M. W . A comparative study of the development of facial expressions in canids; wolf, coyote and foxes. Behaviour  36, 49–73 \n(1970).\n 72. King, T., Hemsworth, P . H. & Coleman, G. J. Fear of novel and startling stimuli in domestic dogs. Appl. Anim. Behav. Sci. 82, 45–64 \n(2003).\n 73. Estep, D. Q. Canine behavior. In Canine Rehabilitation & Physical Therapy (eds. Millis, D. L. & Levine, D.) 30–37 (WB Saunders, Elsevier Inc., https://doi.org/10.1016/B978-0-7216-9555-6.50008-5 (2004).\n 74. Rooney, N. J. & Cowan, S. Training methods and owner-dog interactions: Links with dog behaviour and learning ability. Appl. Anim. \nBehav. Sci. 132, 169–177 (2011).\n 75. González Martínez, Á., Santamarina Pernas, G., Diéguez Casalta, F. J., Suárez Rey, L. M. & De la Cruz Palomino, L. F. Risk factors \nassociated with behavioral problems in dogs. J. Vet. Behav. Clin. Appl. Res. 6, 225–231 (2011).', metadata={'source': './components/FacialExpressionsDogs.pdf', 'page': 11}), Document(page_content='13 Scientific  RepoRtS  |         (2019) 9:19312  | https://doi.org/10.1038/s41598-019-55714-6\nwww.nature.com/scientificreports www.nature.com/scientificreports/ 76. Hager, J. C. & Ekman, P . The asymmetry of facial actions is inconsistent with models of hemispheric specialization. In What the Face \nReveals: Basic and Applied Studies of Spontaneous Expression Using the Facial Action Coding System (FACS), Second Edition (eds. \nEkman, P . & Rosenberg, E. L.) 40–62 (Oxford University Press, 2005).\n 77. Sackeim, H. A., Gur, R. C. & Saucy, M. C. Emotions are expressed more intensely on the left side of the face. Sci. New Ser. 202, \n434–436 (1978).\n 78. Siniscalchi, M., Lusito, R., Vallortigara, G., Provinciale, S. & Quaranta, A. Seeing left- or right-asymmetric tail wagging produces \ndifferent emotional responses in dogs. Curr. Biol. 23, 2279–2282 (2013).\n 79. Siniscalchi, M., Sasso, R., Pepe, A. M., Vallortigara, G. & Quaranta, A. Dogs turn left to emotional stimuli. Behav. Brain Res.  208, \n516–521 (2010).\n 80. Siniscalchi, M., D’Ingeo, S. & Quaranta, A. Lateralized functions in the dog brain. Symmetry (Basel). 9, 71 (2017).\n 81. Firnkes, A., Bartels, A., Bidoli, E. & Erhard, M. Appeasement signals used by dogs during dog–human communication. J. Vet. Behav.  \n19, 35–44 (2017).\n 82. Rehn, T. & Keeling, L. J. The effect of time left alone at home on dog welfare. Appl. Anim. Behav. Sci. 129, 129–135 (2011).\n 83. Mariti, C. et al. Analysis of the intraspecific visual communication in the domestic dog (Canis familiaris): A pilot study on the case \nof calming signals. J. Vet. Behav. Clin. Appl. Res. 18, 49–55 (2017).\n 84. Pastore, C., Pirrone, F. & Albertini, M. Evaluation of physiological and behavioral stress-dependent parameters in agility dogs. J. Vet. Behav. Clin. Appl. Res. 6, 188–194 (2011).\n 85. Part, C. E.\xa0 et al. Physiological, physical and behavioural changes in dogs (Canis familiaris) when kennelled: Testing the validity of \nstress parameters. Physiol. Behav. 133, 260–271 (2014).\n 86. Lazarus, R. S. Stress and emotion: a new synthesis. (Springer Pub. Co, 2006).\n 87. Lazarus, R. S. From psychological stress to the emotions: A history of changing outlooks. Annu. Rev. Psychol. 44, 1–21 (1993).\n 88. Ramos, A. & Mormède, P . Stress and emotionality: A multidimensional and genetic approach. Neurosci. Biobehav. Rev. 22, 33–57 \n(1998).\n 89. Paul, E. S., Harding, E. J. & Mendl, M. Measuring emotional processes in animals: The utility of a cognitive approach. Neurosci. \nBiobehav. Rev.  29, 469–491 (2005).\n 90. Palestrini, C., Minero, M., Cannas, S., Rossi, E. & Frank, D. Video analysis of dogs with separation-related behaviors. Appl. Anim. \nBehav. Sci. 124, 61–67 (2010).\n 91. Mills, D. S. Perspectives on assessing the emotional behavior of animals with behavior problems. Curr. Opin. Behav. Sci. 16, 66–72 \n(2017).\n 92. Revelle, W . Package ‘psych’ . (2019). Available at: https://cran.r-project.org/web/packages/psych/psych.pdf . (Accessed: 23rd April \n(2019)\n 93. Bates, D., Maechler, M., Bolker, B. & Walker, S. lme4: Linear mixed-effects models using ‘Eigen’ and S4. Available at: https://www.\nresearchgate.net/publication/279236477_Package_Lme4_Linear_Mixed-Effects_Models_Using_Eigen_and_S4. (2014).\nAcknowledgements\nWe thank all dogs and dog owners that participated in this study and Catia C. Caeiro for her feedback on requests \nregarding the DogFACS coding. This study has been funded by the Paul-Schwab-Fonds (48–112) of the University of Bern and by a University of Lincoln scholarship, awarded to A.B. D.S.M. was supported by an Invitational Fellowship for Research in Japan (S19099) from the Japan Society for the Promotion of Science, for some of the time spent completing this manuscript.\nAuthor contributions\nA.B., S.R., D.S.M. and H.W . developed the study concept and design. A.B. conducted the experiments. N.A.S. and A.B. coded the video samples using DogFACS. A.B., S.R., D.S.M. and H.W . interpreted the data. A.B. drafted the initial manuscript. All authors reviewed the manuscript.\nCompeting interests\nThe authors declare no competing interests.\nAdditional information\nSupplementary information is available for this paper at https://doi.org/10.1038/s41598-019-55714-6.\nCorrespondence and requests for materials should be addressed to A.B.Reprints and permissions information is available at www.nature.com/reprints.Publisher’s note Springer Nature remains neutral with regard to jurisdictional claims in published maps and \ninstitutional affiliations.\nOpen Access This article is licensed under a Creative Commons Attribution 4.0 International \nLicense, which permits use, sharing, adaptation, distribution and reproduction in any medium or \nformat, as long as you give appropriate credit to the original author(s) and the source, provide a link to the Cre-ative Commons license, and indicate if changes were made. The images or other third party material in this article are included in the article’s Creative Commons license, unless indicated otherwise in a credit line to the \nmaterial. If material is not included in the article’s Creative Commons license and your intended use is not per-\nmitted by statutory regulation or exceeds the permitted use, you will need to obtain permission directly from the copyright holder. To view a copy of this license, visit http://creativecommons.org/licenses/by/4.0/. © The Author(s) 2019', metadata={'source': './components/FacialExpressionsDogs.pdf', 'page': 12})]
2024-06-06 08:33:16,129 - INFO - Embeddings: None
2024-06-06 08:33:16,130 - INFO - Chain: first=ChatPromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex', 'messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex'], template="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}.If the question is not about dog behavior or you don't know the answer, say so. Use three sentences maximum and keep the answer concise.")), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x12a860130>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x12a868d30>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-06 08:33:17,178 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-06 08:33:17,192 - INFO - 127.0.0.1 - - [06/Jun/2024 08:33:17] "POST /chat HTTP/1.1" 200 -
2024-06-06 08:42:01,410 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-06 08:42:01,528 - INFO -  * Restarting with stat
2024-06-06 08:42:02,532 - WARNING -  * Debugger is active!
2024-06-06 08:42:02,539 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 08:42:05,646 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-06 08:42:05,795 - INFO -  * Restarting with stat
2024-06-06 08:42:06,607 - WARNING -  * Debugger is active!
2024-06-06 08:42:06,614 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 08:42:15,803 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-06 08:42:15,944 - INFO -  * Restarting with stat
2024-06-06 08:42:16,618 - WARNING -  * Debugger is active!
2024-06-06 08:42:16,625 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 08:42:18,710 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-06 08:42:18,845 - INFO -  * Restarting with stat
2024-06-06 08:44:51,320 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.1.11:8081
2024-06-06 08:44:51,320 - INFO - [33mPress CTRL+C to quit[0m
2024-06-06 08:44:51,321 - INFO -  * Restarting with stat
2024-06-06 08:44:52,075 - WARNING -  * Debugger is active!
2024-06-06 08:44:52,082 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 08:44:52,252 - INFO - Received request: {'input': 'Do you have any tips on how to get rid of it for me?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-06 08:44:52,254 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-06 08:44:52,803 - INFO - Chunks: page_content='1 Scientific  RepoRtS  |         (2019) 9:19312  | https://doi.org/10.1038/s41598-019-55714-6' metadata={'source': './components/FacialExpressionsDogs.pdf', 'page': 0}
2024-06-06 08:44:52,803 - INFO - Embeddings: None
2024-06-06 08:44:52,803 - INFO - Chain: first=ChatPromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex', 'messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex'], template="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}.If the question is not about dog behavior or you don't know the answer, say so. Use three sentences maximum and keep the answer concise.")), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x109a17160>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x109a1fd60>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-06 08:44:53,645 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-06 08:44:53,662 - INFO - 127.0.0.1 - - [06/Jun/2024 08:44:53] "POST /chat HTTP/1.1" 200 -
2024-06-06 08:45:50,356 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-06 08:45:50,510 - INFO -  * Restarting with stat
2024-06-06 08:45:51,229 - WARNING -  * Debugger is active!
2024-06-06 08:45:51,237 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 08:45:53,131 - INFO - Received request: {'input': 'Do you have any tips on how to get rid of it for me?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-06 08:45:53,132 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-06 08:45:53,669 - INFO - Chunks: page_content='1 Scientific  RepoRtS  |         (2019) 9:19312  | https://doi.org/10.1038/s41598-019-55714-6' metadata={'source': './components/FacialExpressionsDogs.pdf', 'page': 0}
2024-06-06 08:45:53,670 - INFO - len: 1124
2024-06-06 08:45:53,670 - INFO - Embeddings: None
2024-06-06 08:45:53,670 - INFO - Chain: first=ChatPromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex', 'messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex'], template="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}.If the question is not about dog behavior or you don't know the answer, say so. Use three sentences maximum and keep the answer concise.")), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x11fae0100>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x11fae8d00>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-06 08:45:54,370 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-06 08:45:54,388 - INFO - 127.0.0.1 - - [06/Jun/2024 08:45:54] "POST /chat HTTP/1.1" 200 -
2024-06-06 08:46:16,178 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-06 08:46:16,320 - INFO -  * Restarting with stat
2024-06-06 08:46:17,108 - WARNING -  * Debugger is active!
2024-06-06 08:46:17,115 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 08:46:19,470 - INFO - Received request: {'input': 'Do you have any tips on how to get rid of it for me?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-06 08:46:19,472 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-06 08:46:20,001 - INFO - Chunks: page_content='1 Scientific  RepoRtS  |         (2019) 9:19312  | https://doi.org/10.1038/s41598-019-55714-6\nwww.nature.com/scientificreportsDifferences in facial expressions \nduring positive anticipation and \nfrustration in dogs awaiting a \nreward\nAnnika Bremhorst  1,2,3*, Nicole A. Sutter1, Hanno Würbel  1, Daniel S. Mills  3 & \nStefanie Riemer1\nFacial expressions are considered sensitive indicators of emotional states in humans and many animals. \nIdentifying facial indicators of emotion is a major challenge and little systematic research has been done in non-primate species. In dogs, such research is important not only to address fundamental and applied \nscientific questions but also for practical reasons, since many problem behaviours are assumed to have' metadata={'source': './components/FacialExpressionsDogs.pdf', 'page': 0}
2024-06-06 08:46:20,002 - INFO - len: 88
2024-06-06 08:46:20,002 - INFO - Embeddings: None
2024-06-06 08:46:20,002 - INFO - Chain: first=ChatPromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex', 'messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex'], template="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}.If the question is not about dog behavior or you don't know the answer, say so. Use three sentences maximum and keep the answer concise.")), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x113230190>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x113238d90>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-06 08:46:20,629 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-06 08:46:20,648 - INFO - 127.0.0.1 - - [06/Jun/2024 08:46:20] "POST /chat HTTP/1.1" 200 -
2024-06-06 08:47:02,201 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-06 08:47:02,339 - INFO -  * Restarting with stat
2024-06-06 08:47:03,097 - WARNING -  * Debugger is active!
2024-06-06 08:47:03,104 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 08:47:12,311 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-06 08:47:12,432 - INFO -  * Restarting with stat
2024-06-06 08:47:13,152 - WARNING -  * Debugger is active!
2024-06-06 08:47:13,159 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 08:49:52,576 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-06 08:49:52,701 - INFO -  * Restarting with stat
2024-06-06 08:49:53,416 - WARNING -  * Debugger is active!
2024-06-06 08:49:53,423 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 08:50:01,600 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-06 08:50:01,742 - INFO -  * Restarting with stat
2024-06-06 08:50:02,522 - WARNING -  * Debugger is active!
2024-06-06 08:50:02,529 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 08:50:03,557 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-06 08:50:03,683 - INFO -  * Restarting with stat
2024-06-06 08:50:04,399 - WARNING -  * Debugger is active!
2024-06-06 08:50:04,406 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 08:50:10,529 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-06 08:50:10,672 - INFO -  * Restarting with stat
2024-06-06 08:50:11,444 - WARNING -  * Debugger is active!
2024-06-06 08:50:11,451 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 08:50:21,669 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-06 08:50:21,810 - INFO -  * Restarting with stat
2024-06-06 08:50:22,855 - WARNING -  * Debugger is active!
2024-06-06 08:50:22,865 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 08:50:28,007 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-06 08:50:28,152 - INFO -  * Restarting with stat
2024-06-06 08:53:19,052 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.1.11:8081
2024-06-06 08:53:19,052 - INFO - [33mPress CTRL+C to quit[0m
2024-06-06 08:53:19,053 - INFO -  * Restarting with stat
2024-06-06 08:53:19,807 - WARNING -  * Debugger is active!
2024-06-06 08:53:19,815 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 08:53:20,984 - INFO - Received request: {'input': 'Do you have any tips on how to get rid of it for me?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-06 08:53:20,985 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-06 08:53:21,517 - INFO - length of chunks to embed: 88
2024-06-06 08:53:21,679 - INFO - 127.0.0.1 - - [06/Jun/2024 08:53:21] "POST /chat HTTP/1.1" 200 -
2024-06-06 08:54:23,414 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-06 08:54:23,554 - INFO -  * Restarting with stat
2024-06-06 08:54:24,279 - WARNING -  * Debugger is active!
2024-06-06 08:54:24,285 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 08:54:26,723 - INFO - Received request: {'input': 'Do you have any tips on how to get rid of it for me?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-06 08:54:26,724 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-06 08:54:27,253 - INFO - length of chunks to embed: 88
2024-06-06 08:54:27,404 - INFO - 127.0.0.1 - - [06/Jun/2024 08:54:27] "POST /chat HTTP/1.1" 200 -
2024-06-06 08:54:50,960 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-06 08:54:51,096 - INFO -  * Restarting with stat
2024-06-06 08:54:51,879 - WARNING -  * Debugger is active!
2024-06-06 08:54:51,886 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 08:54:52,970 - INFO - Received request: {'input': 'Do you have any tips on how to get rid of it for me?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-06 08:54:52,972 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-06 08:54:53,493 - INFO - length of chunks to embed: 88
2024-06-06 08:54:53,644 - INFO - 127.0.0.1 - - [06/Jun/2024 08:54:53] "POST /chat HTTP/1.1" 200 -
2024-06-06 08:56:24,500 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-06 08:56:24,637 - INFO -  * Restarting with stat
2024-06-06 08:56:25,351 - WARNING -  * Debugger is active!
2024-06-06 08:56:25,359 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 08:56:41,646 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-06 08:56:41,778 - INFO -  * Restarting with stat
2024-06-06 08:56:42,548 - WARNING -  * Debugger is active!
2024-06-06 08:56:42,555 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 08:56:58,903 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-06 08:56:59,028 - INFO -  * Restarting with stat
2024-06-06 08:57:25,104 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.1.11:8081
2024-06-06 08:57:25,105 - INFO - [33mPress CTRL+C to quit[0m
2024-06-06 08:57:25,105 - INFO -  * Restarting with stat
2024-06-06 08:57:25,840 - WARNING -  * Debugger is active!
2024-06-06 08:57:25,847 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 08:57:26,099 - INFO - Received request: {'input': 'Do you have any tips on how to get rid of it for me?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-06 08:57:26,101 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-06 08:57:26,617 - INFO - length of chunks to embed: 88
2024-06-06 08:57:27,995 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2024-06-06 08:57:30,432 - INFO - type of embeddings: <class 'list'>
2024-06-06 08:57:30,432 - INFO - Chain: first=ChatPromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex', 'messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex'], template="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}.If the question is not about dog behavior or you don't know the answer, say so. Use three sentences maximum and keep the answer concise.")), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x11705f190>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x117067d60>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-06 08:57:31,347 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-06 08:57:31,367 - INFO - 127.0.0.1 - - [06/Jun/2024 08:57:31] "POST /chat HTTP/1.1" 200 -
2024-06-06 08:58:53,227 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-06 08:58:53,369 - INFO -  * Restarting with stat
2024-06-06 08:58:54,327 - WARNING -  * Debugger is active!
2024-06-06 08:58:54,334 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 09:00:58,344 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/app.py', reloading
2024-06-06 09:00:58,443 - INFO -  * Restarting with stat
2024-06-06 09:00:59,164 - WARNING -  * Debugger is active!
2024-06-06 09:00:59,171 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 09:34:53,150 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-06 09:34:53,272 - INFO -  * Restarting with stat
2024-06-06 09:34:54,234 - WARNING -  * Debugger is active!
2024-06-06 09:34:54,242 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 09:35:53,716 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-06 09:35:53,836 - INFO -  * Restarting with stat
2024-06-06 09:35:54,574 - WARNING -  * Debugger is active!
2024-06-06 09:35:54,581 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 10:38:06,881 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-06 10:38:07,016 - INFO -  * Restarting with stat
2024-06-06 10:38:08,194 - WARNING -  * Debugger is active!
2024-06-06 10:38:08,208 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 10:38:48,950 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-06 10:38:49,081 - INFO -  * Restarting with stat
2024-06-06 10:38:49,894 - WARNING -  * Debugger is active!
2024-06-06 10:38:49,902 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 11:37:16,373 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/app.py', reloading
2024-06-06 11:37:16,533 - INFO -  * Restarting with stat
2024-06-06 11:57:34,330 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.1.11:8081
2024-06-06 11:57:34,330 - INFO - [33mPress CTRL+C to quit[0m
2024-06-06 11:57:34,330 - INFO -  * Restarting with stat
2024-06-06 11:57:35,052 - WARNING -  * Debugger is active!
2024-06-06 11:57:35,066 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 11:58:06,427 - INFO - Received request: {'input': 'Do you have any tips on how to get rid of it for me?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-06 11:58:06,429 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-06 11:58:06,960 - INFO - length of chunks to embed: 88
2024-06-06 11:58:08,715 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2024-06-06 11:58:11,263 - INFO - type of embeddings: <class 'list'>
2024-06-06 11:58:11,264 - INFO - Chain: first=ChatPromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex', 'messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex'], template="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}.If the question is not about dog behavior or you don't know the answer, say so. Use three sentences maximum and keep the answer concise.")), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x107ca7d00>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x107cba970>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-06 11:58:12,091 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-06 11:58:12,107 - INFO - 127.0.0.1 - - [06/Jun/2024 11:58:12] "POST /chat HTTP/1.1" 200 -
2024-06-06 12:00:49,833 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/components/llm.py', reloading
2024-06-06 12:00:49,980 - INFO -  * Restarting with stat
2024-06-06 12:01:27,009 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.1.11:8081
2024-06-06 12:01:27,012 - INFO - [33mPress CTRL+C to quit[0m
2024-06-06 12:01:27,013 - INFO -  * Restarting with stat
2024-06-06 12:01:27,747 - WARNING -  * Debugger is active!
2024-06-06 12:01:27,753 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 12:01:30,054 - INFO - Received request: {'input': 'Do you have any tips on how to get rid of it for me?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-06 12:01:30,056 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-06 12:01:30,568 - INFO - length of chunks to embed: 88
2024-06-06 12:01:31,974 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2024-06-06 12:01:32,911 - INFO - type of embeddings: <class 'list'>
2024-06-06 12:01:32,912 - INFO - Chain: first=ChatPromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex', 'messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex'], template="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}.If the question is not about dog behavior or you don't know the answer, say so. Use three sentences maximum and keep the answer concise.")), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x10cf7fcd0>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x10cf92940>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-06 12:01:33,510 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-06 12:01:33,529 - INFO - 127.0.0.1 - - [06/Jun/2024 12:01:33] "POST /chat HTTP/1.1" 200 -
2024-06-06 13:58:34,376 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.1.11:8081
2024-06-06 13:58:34,376 - INFO - [33mPress CTRL+C to quit[0m
2024-06-06 13:58:34,377 - INFO -  * Restarting with stat
2024-06-06 13:58:35,372 - WARNING -  * Debugger is active!
2024-06-06 13:58:35,383 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 13:58:40,347 - INFO - HEJ: <google.cloud.firestore_v1.async_client.AsyncClient object at 0x106498910>
2024-06-06 13:58:40,348 - INFO - Received request: {'input': 'Do you have any tips on how to get rid of it for me?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-06 13:58:40,349 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-06 13:58:40,886 - INFO - length of chunks to embed: 88
2024-06-06 13:58:42,186 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2024-06-06 13:58:43,782 - INFO - type of embeddings: <class 'list'>
2024-06-06 13:58:43,782 - INFO - Chain: first=ChatPromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex', 'messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex'], template="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}.If the question is not about dog behavior or you don't know the answer, say so. Use three sentences maximum and keep the answer concise.")), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x115f497f0>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x115f5c460>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-06 13:58:44,474 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-06 13:58:44,489 - INFO - 127.0.0.1 - - [06/Jun/2024 13:58:44] "POST /chat HTTP/1.1" 200 -
2024-06-06 13:59:38,398 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/app.py', reloading
2024-06-06 13:59:38,611 - INFO -  * Restarting with stat
2024-06-06 13:59:39,607 - WARNING -  * Debugger is active!
2024-06-06 13:59:39,616 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 13:59:53,021 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/app.py', reloading
2024-06-06 13:59:53,203 - INFO -  * Restarting with stat
2024-06-06 13:59:54,218 - WARNING -  * Debugger is active!
2024-06-06 13:59:54,225 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 13:59:54,739 - INFO - HEJ: <async_generator object AsyncClient.collections at 0x11d666f70>
2024-06-06 13:59:54,739 - INFO - Received request: {'input': 'Do you have any tips on how to get rid of it for me?', 'dog': {'dogName': 'Buddy', 'birthDate': '2017-06-19T22:00:00.000Z', 'selectedBreed': 'Labrador', 'sex': 'Male'}}
2024-06-06 13:59:54,740 - INFO - Created new dog: {'name': 'Buddy', 'sex': 'Male', 'breed': 'Labrador', 'birth_date': datetime.datetime(2017, 6, 19, 22, 0)}
2024-06-06 13:59:55,257 - INFO - length of chunks to embed: 88
2024-06-06 13:59:57,011 - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
2024-06-06 13:59:59,910 - INFO - type of embeddings: <class 'list'>
2024-06-06 13:59:59,910 - INFO - Chain: first=ChatPromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex', 'messages'], input_types={'messages': typing.List[typing.Union[langchain_core.messages.ai.AIMessage, langchain_core.messages.human.HumanMessage, langchain_core.messages.chat.ChatMessage, langchain_core.messages.system.SystemMessage, langchain_core.messages.function.FunctionMessage, langchain_core.messages.tool.ToolMessage]]}, messages=[SystemMessagePromptTemplate(prompt=PromptTemplate(input_variables=['dog_age', 'dog_birth_date', 'dog_breed', 'dog_name', 'dog_sex'], template="You are an expert in dog behavior with a deep understanding of canine psychology, training techniques, and behavioral science. Answer questions about dog behavior with practical advice and insights based on your expertise. The dog's details are as follows: - Name: {dog_name} - Birth Date: {dog_birth_date} - Age: {dog_age} - Breed: {dog_breed} - Sex: {dog_sex}. Please make the answer personalized for {dog_name}.If the question is not about dog behavior or you don't know the answer, say so. Use three sentences maximum and keep the answer concise.")), MessagesPlaceholder(variable_name='messages')]) last=ChatOpenAI(client=<openai.resources.chat.completions.Completions object at 0x10ff89820>, async_client=<openai.resources.chat.completions.AsyncCompletions object at 0x10ff9b490>, openai_api_key=SecretStr('**********'), openai_proxy='')
2024-06-06 14:00:00,664 - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2024-06-06 14:00:00,678 - INFO - 127.0.0.1 - - [06/Jun/2024 14:00:00] "POST /chat HTTP/1.1" 200 -
2024-06-06 14:00:59,136 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/app.py', reloading
2024-06-06 14:00:59,321 - INFO -  * Restarting with stat
2024-06-06 14:02:19,837 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.1.11:8081
2024-06-06 14:02:19,837 - INFO - [33mPress CTRL+C to quit[0m
2024-06-06 14:02:19,838 - INFO -  * Restarting with stat
2024-06-06 14:02:20,805 - WARNING -  * Debugger is active!
2024-06-06 14:02:20,812 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 14:02:20,835 - INFO - 127.0.0.1 - - [06/Jun/2024 14:02:20] "[35m[1mPOST /chat HTTP/1.1[0m" 500 -
2024-06-06 14:02:59,718 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/app.py', reloading
2024-06-06 14:02:59,867 - INFO -  * Restarting with stat
2024-06-06 14:03:00,894 - WARNING -  * Debugger is active!
2024-06-06 14:03:00,902 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 14:04:37,188 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/app.py', reloading
2024-06-06 14:04:37,347 - INFO -  * Restarting with stat
2024-06-06 14:04:38,355 - WARNING -  * Debugger is active!
2024-06-06 14:04:38,362 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 14:04:40,194 - INFO - 127.0.0.1 - - [06/Jun/2024 14:04:40] "[33mPOST /chat HTTP/1.1[0m" 404 -
2024-06-06 14:04:52,235 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.1.11:8081
2024-06-06 14:04:52,235 - INFO - [33mPress CTRL+C to quit[0m
2024-06-06 14:04:52,236 - INFO -  * Restarting with stat
2024-06-06 14:04:53,168 - WARNING -  * Debugger is active!
2024-06-06 14:04:53,175 - INFO -  * Debugger PIN: 716-217-886
2024-06-06 14:05:33,019 - INFO -  * Detected change in '/Users/dlan/important/dogsup/techdogsup/backend/app.py', reloading
2024-06-06 14:05:33,183 - INFO -  * Restarting with stat
2024-06-06 14:06:15,740 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8081
 * Running on http://192.168.1.11:8081
2024-06-06 14:06:15,740 - INFO - [33mPress CTRL+C to quit[0m
2024-06-06 14:06:15,740 - INFO -  * Restarting with stat
2024-06-06 14:06:16,668 - WARNING -  * Debugger is active!
2024-06-06 14:06:16,677 - INFO -  * Debugger PIN: 716-217-886
